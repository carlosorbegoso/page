import{V as d,f as p,e as f,M as y,C as m,B as x,L as b,g as S,i as w,b as E,j as C,d as F,S as z,F as k,P as T,W as B}from"./three.module.R4v5x26M.js";class P{constructor(s){this.scene=s,this.particles=[],this.currentTheme="light",this.performanceMode="high",this.createParticles()}createParticles(){const s=this.performanceMode==="high"?80:40;for(let t=0;t<s;t++){const e={mesh:new p(new f(1+Math.random()*2,8,8),new y({color:new m().setHSL(Math.random()*.3+.6,.8,.7+Math.random()*.3),transparent:!0,opacity:.3+Math.random()*.4})),velocity:new d((Math.random()-.5)*2,(Math.random()-.5)*1.5,(Math.random()-.5)*2),life:Math.random()*120+60,maxLife:Math.random()*120+60,originalPosition:new d,rotationSpeed:(Math.random()-.5)*.02,pulseSpeed:Math.random()*.05+.02},n=t/s*Math.PI*4,i=200+Math.random()*600,o=(Math.random()-.5)*800;e.mesh.position.set(Math.cos(n)*i,o,Math.sin(n)*i),e.originalPosition.copy(e.mesh.position),this.particles.push(e),this.scene.add(e.mesh)}}animate(s){this.particles.forEach((t,e)=>{t.mesh.position.add(t.velocity),t.life--,t.life<=0&&(t.life=t.maxLife,t.mesh.position.copy(t.originalPosition),t.mesh.position.add(new d((Math.random()-.5)*100,(Math.random()-.5)*100,(Math.random()-.5)*100)));const i=1+Math.sin(s*t.pulseSpeed+e*.1)*.1;t.mesh.scale.setScalar(i),t.mesh.material.opacity=.5+Math.sin(s+t.life*.05)*.2;const o=(s*.05+e*.01)%1,r=new m().setHSL(o,.7,.6);t.mesh.material.color.lerp(r,.005)})}updateTheme(s){this.currentTheme=s;const t=s==="dark";this.particles.forEach(e=>{const n=t?.6:.5;e.mesh.material.color.setHSL(n,.8,.7)})}updateScroll(s){this.particles.forEach(t=>{const e=s*100;t.mesh.position.z=t.mesh.position.z+e*.01,t.mesh.position.z>1e3&&(t.mesh.position.z=-1e3)})}setPerformanceMode(s){this.performanceMode=s,s==="low"?this.particles.forEach(t=>{t.mesh.visible=!1}):this.particles.forEach(t=>{t.mesh.visible=!0})}dispose(){this.particles.forEach(s=>{s.mesh.geometry&&s.mesh.geometry.dispose(),s.mesh.material&&s.mesh.material.dispose(),this.scene.remove(s.mesh)}),this.particles=[]}}class D{constructor(s){this.scene=s,this.constellations=[],this.currentTheme="light",this.performanceMode="high",this.createConstellations()}createConstellations(){const s=this.performanceMode==="high"?8:6;for(let t=0;t<s;t++){const e={stars:[],connections:[],center:new d((Math.random()-.5)*1600,(Math.random()-.5)*1e3,(Math.random()-.5)*800),section:t,pulsePhase:Math.random()*Math.PI*2},n=Math.floor(Math.random()*6)+4,i=[];for(let o=0;o<n;o++){const r=new p(new f(2+Math.random()*2,8,8),new y({color:new m().setHSL(.6+Math.random()*.1,.7,.6+Math.random()*.3),transparent:!0,opacity:.6+Math.random()*.3}));let a;if(o===0)a=e.center.clone();else{const c=o/n*Math.PI*2,l=80+Math.random()*120;a=e.center.clone().add(new d(Math.cos(c)*l,Math.sin(c)*l*.5,(Math.random()-.5)*100))}r.position.copy(a),i.push(a),e.stars.push(r),this.scene.add(r)}for(let o=0;o<i.length;o++)for(let r=o+1;r<i.length;r++)if(i[o].distanceTo(i[r])<150){const c=this.createConnection(i[o],i[r]);e.connections.push(c),this.scene.add(c)}this.constellations.push(e)}}createConnection(s,t){const e=new x().setFromPoints([s,t]),n=new b({color:6600182,transparent:!0,opacity:.4});return new S(e,n)}animate(s){this.constellations.forEach((t,e)=>{const n=t.section*.4;t.stars.forEach((i,o)=>{const r=o*.3,a=n+r;i.position.y+=Math.sin(s+a)*.3,i.rotation.x+=.008,i.rotation.y+=.006,i.rotation.z+=.004;const c=Math.sin(s*.8+a)*.08;i.scale.setScalar(1+c);const l=Math.sin(s*3+o*.4)*.3+.7;i.material.opacity=.6+l*.3;const h=(s*.03+o*.1)%1,u=new m().setHSL(h,.6,.7);i.material.color.lerp(u,.003)}),t.connections.forEach((i,o)=>{const r=o*.2,a=Math.sin(s*2+r)*.3+.7;i.material.opacity=.3+a*.3;const c=Math.sin(s*1.5+o*.2)*.15+1;i.scale.setScalar(c)})})}updateTheme(s){this.currentTheme=s;const t=s==="dark";this.constellations.forEach(e=>{e.stars.forEach(n=>{const i=t?.6:.5;n.material.color.setHSL(i,.8,.7)})})}updateScroll(s){this.constellations.forEach((t,e)=>{const n=document.querySelectorAll("section")[e];if(n){const i=n.getBoundingClientRect(),o=i.top+i.height/2,r=window.innerHeight/2,a=Math.abs(o-r),c=window.innerHeight/2,l=Math.max(0,1-a/c);t.stars.forEach(h=>{h.material.opacity=.3+l*.5;const u=1+l*.1;h.scale.setScalar(u),h.position.x+=s*.5*(Math.random()-.5),h.position.y+=s*.3*(Math.random()-.5)}),t.connections.forEach(h=>{h.material.opacity=.2+l*.2})}})}setPerformanceMode(s){this.performanceMode=s,s==="low"?this.constellations.forEach(t=>{t.stars.forEach(e=>{e.visible=!1})}):this.constellations.forEach(t=>{t.stars.forEach(e=>{e.visible=!0})})}dispose(){this.constellations.forEach(s=>{s.stars.forEach(t=>{t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose(),this.scene.remove(t)}),s.connections.forEach(t=>{t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose(),this.scene.remove(t)})}),this.constellations=[]}}class H{constructor(s,t){this.scene=s,this.camera=t,this.cursor=null,this.cursorTrail=[],this.currentTheme="light",this.performanceMode="high",this.createCursor()}createCursor(){const s=new f(8,16,16),t=new y({color:6600182,transparent:!0,opacity:.8});this.cursor=new p(s,t),this.scene.add(this.cursor),this.cursorTrail=[];for(let e=0;e<10;e++){const n=new p(new f(4,8,8),new y({color:6600182,transparent:!0,opacity:.3}));this.cursorTrail.push(n),this.scene.add(n)}}updatePosition(s,t){if(!(!this.cursor||!this.camera))try{const e=new w;e.x=s/window.innerWidth*2-1,e.y=-(t/window.innerHeight)*2+1;const n=new d(e.x,e.y,.5);n.unproject(this.camera);const i=n.sub(this.camera.position).normalize(),o=-this.camera.position.z/i.z,r=this.camera.position.clone().add(i.multiplyScalar(o));this.cursor.position.copy(r),this.updateCursorTrail(r)}catch(e){console.warn("⚠️ Error actualizando posición del cursor:",e)}}updateCursorTrail(s){this.cursorTrail.forEach((t,e)=>{const n=s.clone();n.add(new d((Math.random()-.5)*20,(Math.random()-.5)*20,0)),t.position.lerp(n,.1),t.material.opacity=.3*(1-e/this.cursorTrail.length)})}createClickEffect(s,t){if(this.camera)try{const e=new w;e.x=s/window.innerWidth*2-1,e.y=-(t/window.innerHeight)*2+1;const n=new d(e.x,e.y,.5);n.unproject(this.camera);const i=n.sub(this.camera.position).normalize(),o=-this.camera.position.z/i.z,r=this.camera.position.clone().add(i.multiplyScalar(o));for(let a=0;a<20;a++){const c=new p(new f(2,8,8),new y({color:new m().setHSL(Math.random()*.3+.6,.8,.7),transparent:!0,opacity:.8}));c.position.copy(r),c.velocity=new d((Math.random()-.5)*10,(Math.random()-.5)*10,(Math.random()-.5)*10),c.life=60,this.scene.add(c),setTimeout(()=>{this.scene.remove(c)},1e3)}}catch(e){console.warn("⚠️ Error creando efecto de click:",e)}}animate(s){if(this.cursor){this.cursor.rotation.y+=.03,this.cursor.rotation.x+=.01,this.cursor.material.opacity=.7+Math.sin(s*4)*.2;const t=s*.2%1,e=new m().setHSL(t,.8,.7);this.cursor.material.color.lerp(e,.01)}}updateTheme(s){this.currentTheme=s;const t=s==="dark";this.cursor&&this.cursor.material.color.setHex(t?6600182:1668818),this.cursorTrail.forEach(e=>{e.material.color.setHex(t?6600182:1668818)})}setPerformanceMode(s){this.performanceMode=s,s==="low"?(this.cursor&&(this.cursor.visible=!1),this.cursorTrail.forEach(t=>{t.visible=!1})):(this.cursor&&(this.cursor.visible=!0),this.cursorTrail.forEach(t=>{t.visible=!0}))}dispose(){this.cursor&&(this.cursor.geometry&&this.cursor.geometry.dispose(),this.cursor.material&&this.cursor.material.dispose(),this.scene.remove(this.cursor)),this.cursorTrail.forEach(s=>{s.geometry&&s.geometry.dispose(),s.material&&s.material.dispose(),this.scene.remove(s)}),this.cursor=null,this.cursorTrail=[]}}class L{constructor(s){this.scene=s,this.background=null,this.currentTheme="light",this.performanceMode="high",this.createBackground()}createBackground(){const s=new x,t=this.performanceMode==="high"?1e3:500,e=new Float32Array(t*3),n=new Float32Array(t*3),i=new Float32Array(t);for(let r=0;r<t;r++){e[r*3]=(Math.random()-.5)*2e3,e[r*3+1]=(Math.random()-.5)*2e3,e[r*3+2]=(Math.random()-.5)*2e3;const a=new m;a.setHSL(Math.random()*.1+.6,.8,Math.random()*.3+.7),n[r*3]=a.r,n[r*3+1]=a.g,n[r*3+2]=a.b,i[r]=Math.random()*3+1}s.setAttribute("position",new E(e,3)),s.setAttribute("color",new E(n,3)),s.setAttribute("size",new E(i,1));const o=new C({size:2,vertexColors:!0,transparent:!0,opacity:.3});this.background=new F(s,o),this.scene.add(this.background)}updateTheme(s){if(this.currentTheme=s,this.background){const e=s==="dark"?.6:.5,n=this.background.geometry.attributes.color;for(let i=0;i<n.count;i++){const o=new m;o.setHSL(e+Math.random()*.1,.8,Math.random()*.3+.7),n.setXYZ(i,o.r,o.g,o.b)}n.needsUpdate=!0}}updateScroll(s){this.background&&(this.background.rotation.y=s*Math.PI*.1,this.background.position.y=s*50)}setPerformanceMode(s){this.performanceMode=s,s==="low"?this.background&&(this.background.visible=!1):this.background&&(this.background.visible=!0)}dispose(){this.background&&(this.background.geometry&&this.background.geometry.dispose(),this.background.material&&this.background.material.dispose(),this.scene.remove(this.background)),this.background=null}}class ${constructor(){this.isInitialized=!1,this.currentTheme="light",this.performanceMode="high",this.particleSystem=null,this.constellationSystem=null,this.cursorSystem=null,this.backgroundSystem=null,this.scene=null,this.camera=null,this.renderer=null,this.sectionEffects=new Map,this.init()}async init(){try{this.createScene(),this.createCamera(),this.createRenderer(),this.backgroundSystem=new L(this.scene),this.particleSystem=new P(this.scene);try{await this.initializeConstellationSystem()}catch(s){console.error("❌ Error inicializando ConstellationSystem:",s)}this.cursorSystem=new H(this.scene,this.camera),this.addEventListeners(),this.animate(),this.isInitialized=!0}catch(s){console.error("❌ Error inicializando motor visual:",s)}}async initializeConstellationSystem(){await new Promise(s=>setTimeout(s,50)),this.constellationSystem=new D(this.scene)}createScene(){this.scene=new z,this.scene.fog=new k(0,1e3,2e3)}createCamera(){this.camera=new T(75,window.innerWidth/window.innerHeight,.1,2e3),this.camera.position.set(0,0,500)}createRenderer(){this.renderer=new B({antialias:!0,alpha:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setClearColor(0,0),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),document.body.appendChild(this.renderer.domElement),this.renderer.domElement.style.position="fixed",this.renderer.domElement.style.top="0",this.renderer.domElement.style.left="0",this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style.zIndex="-1",this.renderer.domElement.style.pointerEvents="none"}initSectionEffects(s,t,e={}){try{const n={particles:{count:100,size:{min:1,max:3},speed:{min:.1,max:.3},opacity:{min:.3,max:.8},colors:["#64B5F6","#4FC3F7","#81D4FA"]},constellations:{count:3,starsPerConstellation:{min:4,max:6},connectionOpacity:.4,glowIntensity:.6},stars:{count:150,size:{min:.5,max:2},twinkleSpeed:{min:2,max:5}},floatingElements:{count:4,size:{min:2,max:4}}},i=this.getSectionSpecificConfig(s,n);this.createSectionContainer(t);const o={particles:this.createSectionParticles(t,i.particles),constellations:this.createSectionConstellations(t,i.constellations),stars:this.createSectionStars(t,i.stars),floatingElements:this.createSectionFloatingElements(t,i.floatingElements)};return this.sectionEffects.set(s,o),console.log(`✅ Efectos inicializados para ${s}`),o}catch(n){return console.error(`❌ Error inicializando efectos para ${s}:`,n),null}}getSectionSpecificConfig(s,t){const e=JSON.parse(JSON.stringify(t));switch(s.toLowerCase()){case"hero":e.particles.count=120,e.particles.colors=["#64B5F6","#4FC3F7","#81D4FA","#E3F2FD"],e.particles.speed={min:.1,max:.4},e.particles.opacity={min:.4,max:.9},e.constellations.count=4,e.constellations.connectionOpacity=.5,e.constellations.glowIntensity=.8,e.stars.count=180,e.stars.size={min:.8,max:2.5},e.stars.twinkleSpeed={min:2,max:6},e.floatingElements.count=5,e.floatingElements.size={min:2,max:5};break;case"about":e.particles.count=80,e.particles.colors=["#64B5F6","#4FC3F7","#81D4FA","#E3F2FD"],e.particles.speed={min:.05,max:.2},e.particles.opacity={min:.2,max:.6},e.particles.size={min:.8,max:2.2},e.constellations.count=3,e.constellations.connectionOpacity=.3,e.constellations.glowIntensity=.4,e.constellations.starsPerConstellation={min:3,max:5},e.stars.count=100,e.stars.size={min:.5,max:1.8},e.stars.twinkleSpeed={min:3,max:7},e.floatingElements.count=4,e.floatingElements.size={min:1.5,max:3.5};break;case"experience":e.particles.count=60,e.particles.colors=["#FF6B35","#FF5722","#FF8A65","#FFCC02"],e.particles.speed={min:.03,max:.15},e.particles.opacity={min:.15,max:.5},e.particles.size={min:.6,max:1.8},e.constellations.count=2,e.constellations.connectionOpacity=.4,e.constellations.glowIntensity=.3,e.constellations.starsPerConstellation={min:4,max:6},e.stars.count=80,e.stars.size={min:.4,max:1.5},e.stars.twinkleSpeed={min:4,max:8},e.floatingElements.count=3,e.floatingElements.size={min:1,max:2.8};break;case"skills":e.particles.count=120,e.particles.colors=["#4CAF50","#8BC34A","#64B5F6","#00BCD4"],e.particles.speed={min:.08,max:.25},e.particles.opacity={min:.25,max:.7},e.particles.size={min:1,max:2.5},e.constellations.count=6,e.constellations.connectionOpacity=.5,e.constellations.glowIntensity=.6,e.constellations.starsPerConstellation={min:3,max:5},e.stars.count=150,e.stars.size={min:.6,max:2},e.stars.twinkleSpeed={min:2,max:5},e.floatingElements.count=6,e.floatingElements.size={min:1.5,max:4};break;case"projects":e.particles.count=90,e.particles.colors=["#9C27B0","#673AB7","#64B5F6","#E91E63"],e.particles.speed={min:.06,max:.2},e.particles.opacity={min:.2,max:.6},e.particles.size={min:.8,max:2.2},e.constellations.count=4,e.constellations.connectionOpacity=.4,e.constellations.glowIntensity=.5,e.constellations.starsPerConstellation={min:4,max:6},e.stars.count=120,e.stars.size={min:.5,max:1.8},e.stars.twinkleSpeed={min:3,max:6},e.floatingElements.count=5,e.floatingElements.size={min:1.2,max:3.2};break;case"contact":e.particles.count=70,e.particles.colors=["#00BCD4","#4FC3F7","#64B5F6","#81C784"],e.particles.speed={min:.04,max:.18},e.particles.opacity={min:.18,max:.55},e.particles.size={min:.7,max:2},e.constellations.count=3,e.constellations.connectionOpacity=.3,e.constellations.glowIntensity=.4,e.constellations.starsPerConstellation={min:3,max:5},e.stars.count=90,e.stars.size={min:.4,max:1.6},e.stars.twinkleSpeed={min:3,max:7},e.floatingElements.count=4,e.floatingElements.size={min:1,max:2.5};break}return e}createSectionContainer(s){let t=document.getElementById(s);if(!t){t=document.createElement("div"),t.id=s,t.className="section-effects-container",t.style.cssText=`
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 1;
                overflow: hidden;
            `;const e=document.querySelector(`#${s.replace("-effects","")}`);e&&(e.style.position="relative",e.appendChild(t))}return t}createSectionParticles(s,t){const e=document.getElementById(s);if(!e)return null;const n=[];for(let i=0;i<t.count;i++){const o=document.createElement("div");o.className="section-particle",o.style.cssText=`
                position: absolute;
                width: ${Math.random()*(t.size.max-t.size.min)+t.size.min}px;
                height: ${Math.random()*(t.size.max-t.size.min)+t.size.min}px;
                background: ${t.colors[Math.floor(Math.random()*t.colors.length)]};
                border-radius: 50%;
                opacity: ${Math.random()*(t.opacity.max-t.opacity.min)+t.opacity.min};
                pointer-events: none;
                z-index: 2;
            `,o.style.left=Math.random()*100+"%",o.style.top=Math.random()*100+"%";const r=(Math.random()*(t.speed.max-t.speed.min)+t.speed.min)*10;o.style.animation=`sectionParticleFloat ${r}s ease-in-out infinite`,o.style.animationDelay=Math.random()*5+"s",e.appendChild(o),n.push(o)}return n}createSectionConstellations(s,t){const e=document.getElementById(s);if(!e)return null;const n=[];for(let i=0;i<t.count;i++){const o=document.createElement("div");o.className="section-constellation",o.style.cssText=`
                position: absolute;
                width: ${60+Math.random()*40}px;
                height: ${60+Math.random()*40}px;
                background: radial-gradient(circle, rgba(100, 181, 246, 0.08) 0%, transparent 70%);
                border-radius: 50%;
                pointer-events: none;
                z-index: 3;
            `,o.style.left=Math.random()*80+10+"%",o.style.top=Math.random()*80+10+"%",o.style.animation="sectionConstellationGlow 6s ease-in-out infinite",o.style.animationDelay=Math.random()*3+"s",e.appendChild(o),n.push(o)}return n}createSectionStars(s,t){const e=document.getElementById(s);if(!e)return null;const n=[];for(let i=0;i<t.count;i++){const o=document.createElement("div");o.className="section-star",o.style.cssText=`
                position: absolute;
                width: ${Math.random()*(t.size.max-t.size.min)+t.size.min}px;
                height: ${Math.random()*(t.size.max-t.size.min)+t.size.min}px;
                background: rgba(255, 255, 255, 0.6);
                border-radius: 50%;
                pointer-events: none;
                z-index: 4;
            `,o.style.left=Math.random()*100+"%",o.style.top=Math.random()*100+"%";const r=Math.random()*(t.twinkleSpeed.max-t.twinkleSpeed.min)+t.twinkleSpeed.min;o.style.animation=`sectionStarTwinkle ${r}s ease-in-out infinite`,o.style.animationDelay=Math.random()*3+"s",e.appendChild(o),n.push(o)}return n}createSectionFloatingElements(s,t){const e=document.getElementById(s);if(!e)return null;const n=[];for(let i=0;i<t.count;i++){const o=document.createElement("div");o.className="section-floating-element",o.style.cssText=`
                position: absolute;
                width: ${Math.random()*(t.size.max-t.size.min)+t.size.min}px;
                height: ${Math.random()*(t.size.max-t.size.min)+t.size.min}px;
                background: rgba(100, 181, 246, 0.3);
                border-radius: 50%;
                pointer-events: none;
                z-index: 5;
            `,o.style.left=Math.random()*80+10+"%",o.style.top=Math.random()*80+10+"%",o.style.animation="sectionFloat 8s ease-in-out infinite",o.style.animationDelay=Math.random()*4+"s",e.appendChild(o),n.push(o)}return n}cleanupSectionEffects(s){const t=this.sectionEffects.get(s);t&&(t.particles&&t.particles.forEach(e=>e.remove()),t.constellations&&t.constellations.forEach(e=>e.remove()),t.stars&&t.stars.forEach(e=>e.remove()),t.floatingElements&&t.floatingElements.forEach(e=>e.remove()),this.sectionEffects.delete(s))}addEventListeners(){window.addEventListener("resize",this.onWindowResize.bind(this)),window.addEventListener("scroll",this.onScroll.bind(this)),setTimeout(()=>{this.createTechTagHoverEffects(),this.createButtonHoverEffects(),this.createCardHoverEffects()},1e3)}createTechTagHoverEffects(){try{document.querySelectorAll(".tech-tag, .tech-tag-compact").forEach(t=>{t.addEventListener("mouseenter",e=>{this.createHoverParticles(e.target,"tech-tag")}),t.addEventListener("mouseenter",e=>{this.createHoverConstellation(e.target,"tech-tag")})}),console.log("✅ Efectos de hover para tech tags configurados")}catch(s){console.error("❌ Error configurando efectos de hover para tech tags:",s)}}createButtonHoverEffects(){try{document.querySelectorAll(".btn, .btn-primary, .btn-secondary").forEach(t=>{t.addEventListener("mouseenter",e=>{this.createHoverParticles(e.target,"button")}),t.addEventListener("mouseenter",e=>{this.createHoverGlow(e.target,"button")})}),console.log("✅ Efectos de hover para botones configurados")}catch(s){console.error("❌ Error configurando efectos de hover para botones:",s)}}createCardHoverEffects(){try{document.querySelectorAll(".project-card, .about-card, .experience-item, .skill-card").forEach(t=>{t.addEventListener("mouseenter",e=>{this.createHoverParticles(e.target,"card")}),t.addEventListener("mouseenter",e=>{this.createCardElevation(e.target)})}),console.log("✅ Efectos de hover para cards configurados")}catch(s){console.error("❌ Error configurando efectos de hover para cards:",s)}}createHoverParticles(s,t){try{const e=s.getBoundingClientRect(),n=e.left+e.width/2,i=e.top+e.height/2;let o=document.getElementById("hover-particles-container");o||(o=document.createElement("div"),o.id="hover-particles-container",o.style.cssText=`
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    pointer-events: none;
                    z-index: 1000;
                `,document.body.appendChild(o));const r=t==="tech-tag"?8:t==="button"?15:20,a=this.getHoverColors(t);for(let c=0;c<r;c++){const l=document.createElement("div");l.className="hover-particle",l.style.cssText=`
                    position: absolute;
                    width: ${Math.random()*3+1}px;
                    height: ${Math.random()*3+1}px;
                    background: ${a[Math.floor(Math.random()*a.length)]};
                    border-radius: 50%;
                    pointer-events: none;
                    z-index: 1001;
                    opacity: 0.8;
                    animation: hoverParticleFloat 1.5s ease-out forwards;
                `,l.style.left=n+"px",l.style.top=i+"px";const h=Math.PI*2*c/r,u=Math.random()*60+20,M=n+Math.cos(h)*u,v=i+Math.sin(h)*u;l.style.setProperty("--end-x",M+"px"),l.style.setProperty("--end-y",v+"px"),o.appendChild(l),setTimeout(()=>{l.parentNode&&l.parentNode.removeChild(l)},1500)}}catch(e){console.error("❌ Error creando partículas de hover:",e)}}getHoverColors(s){const t=this.currentTheme==="dark";switch(s){case"tech-tag":return t?["#4FC3F7","#81D4FA","#E3F2FD","#BBDEFB"]:["#64B5F6","#4FC3F7","#81D4FA","#E3F2FD"];case"button":return t?["#4FC3F7","#81D4FA","#E3F2FD","#BBDEFB"]:["#64B5F6","#4FC3F7","#81D4FA","#E3F2FD"];case"card":return t?["#4FC3F7","#81D4FA","#E3F2FD","#BBDEFB"]:["#64B5F6","#4FC3F7","#81D4FA","#E3F2FD"];default:return["#64B5F6","#4FC3F7","#81D4FA"]}}createHoverConstellation(s,t){try{const e=s.getBoundingClientRect(),n=e.left+e.width/2,i=e.top+e.height/2;let o=document.getElementById("hover-constellation-container");o||(o=document.createElement("div"),o.id="hover-constellation-container",o.style.cssText=`
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    pointer-events: none;
                    z-index: 999;
                `,document.body.appendChild(o));const r=document.createElement("div");r.className="hover-constellation",r.style.cssText=`
                position: absolute;
                width: 80px;
                height: 80px;
                left: ${n-40}px;
                top: ${i-40}px;
                background: radial-gradient(circle, rgba(100, 181, 246, 0.1) 0%, transparent 70%);
                border-radius: 50%;
                pointer-events: none;
                z-index: 1000;
                opacity: 0;
                animation: hoverConstellationGlow 2s ease-out forwards;
            `,o.appendChild(r),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r)},2e3)}catch(e){console.error("❌ Error creando constelación de hover:",e)}}createHoverGlow(s,t){try{s.classList.add("button-glow-active"),setTimeout(()=>{s.classList.remove("button-glow-active")},2e3)}catch(e){console.error("❌ Error creando glow de hover:",e)}}createCardElevation(s){try{s.classList.add("card-elevation-active"),setTimeout(()=>{s.classList.remove("card-elevation-active")},2e3)}catch(t){console.error("❌ Error creando elevación de card:",t)}}applyParallaxEffects(){try{const s=window.scrollY,t=window.innerHeight;this.sectionEffects.forEach((e,n)=>{e&&e.particles&&e.particles.forEach((i,o)=>{const r=this.getParallaxSpeed(n),a=s*r*(o%3+1)*.1;i.style.transform=`translateY(${a}px)`})})}catch(s){console.error("❌ Error aplicando efectos de parallax:",s)}}getParallaxSpeed(s){switch(s.toLowerCase()){case"hero":return .3;case"about":return .2;case"experience":return .15;case"skills":return .25;case"projects":return .2;case"contact":return .15;default:return .2}}applyThemeEffects(s){try{this.currentTheme=s;const t=s==="dark";this.constellationSystem&&this.constellationSystem.updateTheme(s),this.sectionEffects.forEach((e,n)=>{this.updateSectionTheme(n,s)}),this.applyInteractiveThemeEffects(s),console.log(`✅ Efectos de tema aplicados: ${s}`)}catch(t){console.error("❌ Error aplicando efectos de tema:",t)}}applyInteractiveThemeEffects(s){try{const t=s==="dark";document.querySelectorAll(".tech-tag, .btn, .project-card, .about-card").forEach(n=>{t?(n.classList.add("theme-dark"),n.classList.remove("theme-light")):(n.classList.add("theme-light"),n.classList.remove("theme-dark"))})}catch(t){console.error("❌ Error aplicando efectos de tema interactivos:",t)}}onWindowResize(){this.camera&&this.renderer&&(this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight))}onScroll(){this.applyParallaxEffects()}animate(){this.animationId=requestAnimationFrame(this.animate.bind(this));const s=Date.now()*.001;this.constellationSystem&&typeof this.constellationSystem.animate=="function"&&this.constellationSystem.animate(s),this.renderer&&this.scene&&this.camera&&this.renderer.render(this.scene,this.camera)}updateTheme(s){this.currentTheme=s,this.constellationSystem&&this.constellationSystem.updateTheme(s),this.sectionEffects.forEach((t,e)=>{this.updateSectionTheme(e,s)})}updateSectionTheme(s,t){const e=this.sectionEffects.get(s);if(!e)return;const n=t==="dark";e.particles&&e.particles.forEach(i=>{n?i.style.filter="brightness(1.2)":i.style.filter="brightness(1)"})}destroy(){this.animationId&&cancelAnimationFrame(this.animationId),this.sectionEffects.forEach((s,t)=>{this.cleanupSectionEffects(t)}),this.renderer&&this.renderer.dispose()}}export{$ as VisualEffectsEngine};
