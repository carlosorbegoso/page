import{V as w,M as C,S as x,a as T,C as v,B as S,L as R,b as $,c as G,d as f,P as U,e as L,f as z,F as N,g as q,W as k,T as X,h as J,i as O,A as I,G as H,O as B,j as A}from"./three-C_YY9jsT.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();const E={APP_NAME:"Carlos Orbegoso Portfolio",VERSION:"2.0.0",DEBUG:!1,LOGGING:{LEVEL:"warn",SHOW_TIMESTAMPS:!0,SHOW_PREFIX:!0,CONSOLE_OUTPUT:!0},ANIMATIONS:{ENABLED:!0,DURATION:{FAST:200,NORMAL:400,SLOW:800},EASING:{FAST:"ease",NORMAL:"cubic-bezier(0.4, 0, 0.2, 1)",SLOW:"cubic-bezier(0.4, 0, 0.2, 1)"}},THREE_JS:{ENABLED:!0,PERFORMANCE:{MOBILE:"low",TABLET:"medium",DESKTOP:"high"},PARTICLES:{COUNT:{MOBILE:100,TABLET:200,DESKTOP:500}}},LANGUAGES:{DEFAULT:"en",SUPPORTED:["en","es"],FALLBACK:"en"},THEMES:{DEFAULT:"light",SUPPORTED:["light","dark"],AUTO_DETECT:!0},BREAKPOINTS:{MOBILE:768,TABLET:1024,DESKTOP:1200},API:{BASE_URL:"",TIMEOUT:5e3,RETRY_ATTEMPTS:3},NOTIFICATIONS:{AUTO_HIDE:!0,DURATION:5e3,POSITION:"top-right",MAX_VISIBLE:3},SCROLL:{SMOOTH:!0,OFFSET:80,THROTTLE:100},PERFORMANCE:{LAZY_LOADING:!0,DEBOUNCE_DELAY:300,THROTTLE_DELAY:100,CLEANUP_INTERVAL:3e4}};class te{constructor(){this.prefix="[Portfolio]",this.logLevel="warn"}formatMessage(e,t){const i=new Date().toLocaleTimeString();return`${this.prefix} [${i}] [${e.toUpperCase()}] ${t}`}shouldLog(e){const t={error:0,warn:1,info:2,debug:3};return t[e]<=t[this.logLevel]}error(e,t=null){const i=this.formatMessage("error",e);console.error(i,t)}warn(e,t=null){const i=this.formatMessage("warn",e);console.warn(i,t)}info(e,t=null){if(this.shouldLog("info")){const i=this.formatMessage("info",e);console.info(i,t)}}debug(e,t=null){if(this.shouldLog("debug")){const i=this.formatMessage("debug",e);console.debug(i,t)}}performance(e,t=null){if(this.shouldLog("info")){const i=this.formatMessage("perf",e);console.log(i,t)}}animation(e,t=null){if(this.shouldLog("info")){const i=this.formatMessage("anim",e);console.log(i,t)}}threejs(e,t=null){if(this.shouldLog("info")){const i=this.formatMessage("three",e);console.log(i,t)}}setLogLevel(e){this.logLevel=e}}const P=new te,m={error:(l,e)=>P.error(l,e),warn:(l,e)=>P.warn(l,e),info:(l,e)=>P.info(l,e),debug:(l,e)=>P.debug(l,e),performance:(l,e)=>P.performance(l,e),animation:(l,e)=>P.animation(l,e),threejs:(l,e)=>P.threejs(l,e),setLogLevel:l=>P.setLogLevel(l)},p={select(l,e=document){return e.querySelector(l)},selectAll(l,e=document){return e.querySelectorAll(l)},create(l,e={},t=""){const i=document.createElement(l);return Object.entries(e).forEach(([s,a])=>{s==="className"?i.className=a:s==="textContent"?i.textContent=a:i.setAttribute(s,a)}),t&&(i.innerHTML=t),i},addClasses(l,...e){l.classList.add(...e)},removeClasses(l,...e){l.classList.remove(...e)},toggleClass(l,e,t){l.classList.toggle(e,t)}},y={on(l,e,t,i={}){l.addEventListener(e,t,i)},off(l,e,t){l.removeEventListener(e,t)},trigger(l,e,t={}){const i=new CustomEvent(e,{detail:t});l.dispatchEvent(i)}},j={debounce(l,e=E.PERFORMANCE.DEBOUNCE_DELAY){let t;return function(...i){clearTimeout(t),t=setTimeout(()=>l.apply(this,i),e)}},throttle(l,e=E.PERFORMANCE.THROTTLE_DELAY){let t=0;return function(...i){const s=Date.now();s-t>=e&&(t=s,l.apply(this,i))}},measureTime(l,e="Function execution"){performance.now();const t=l();return performance.now(),t}};class ie{constructor(e){this.scene=e,this.particles=[],this.currentTheme="light",this.performanceMode="high",this.createParticles()}createParticles(){const e=this.performanceMode==="high"?80:40;for(let t=0;t<e;t++){const i={mesh:new C(new x(1+Math.random()*2,8,8),new T({color:new v().setHSL(Math.random()*.3+.6,.8,.7+Math.random()*.3),transparent:!0,opacity:.3+Math.random()*.4})),velocity:new w((Math.random()-.5)*2,(Math.random()-.5)*1.5,(Math.random()-.5)*2),life:Math.random()*120+60,maxLife:Math.random()*120+60,originalPosition:new w,rotationSpeed:(Math.random()-.5)*.02,pulseSpeed:Math.random()*.05+.02},s=t/e*Math.PI*4,a=200+Math.random()*600,n=(Math.random()-.5)*800;i.mesh.position.set(Math.cos(s)*a,n,Math.sin(s)*a),i.originalPosition.copy(i.mesh.position),this.particles.push(i),this.scene.add(i.mesh)}}animate(e){this.particles.forEach((t,i)=>{t.mesh.position.add(t.velocity),t.life--,t.life<=0&&(t.life=t.maxLife,t.mesh.position.copy(t.originalPosition),t.mesh.position.add(new w((Math.random()-.5)*100,(Math.random()-.5)*100,(Math.random()-.5)*100)));const a=1+Math.sin(e*t.pulseSpeed+i*.1)*.1;t.mesh.scale.setScalar(a),t.mesh.material.opacity=.5+Math.sin(e+t.life*.05)*.2;const n=(e*.05+i*.01)%1,o=new v().setHSL(n,.7,.6);t.mesh.material.color.lerp(o,.005)})}updateTheme(e){this.currentTheme=e;const t=e==="dark";this.particles.forEach(i=>{const s=t?.6:.5;i.mesh.material.color.setHSL(s,.8,.7)})}updateScroll(e){this.particles.forEach(t=>{const i=e*100;t.mesh.position.z=t.mesh.position.z+i*.01,t.mesh.position.z>1e3&&(t.mesh.position.z=-1e3)})}setPerformanceMode(e){this.performanceMode=e,e==="low"?this.particles.forEach(t=>{t.mesh.visible=!1}):this.particles.forEach(t=>{t.mesh.visible=!0})}dispose(){this.particles.forEach(e=>{e.mesh.geometry&&e.mesh.geometry.dispose(),e.mesh.material&&e.mesh.material.dispose(),this.scene.remove(e.mesh)}),this.particles=[]}}class se{constructor(e){this.scene=e,this.constellations=[],this.currentTheme="light",this.performanceMode="high",this.createConstellations()}createConstellations(){const e=this.performanceMode==="high"?8:6;for(let t=0;t<e;t++){const i={stars:[],connections:[],center:new w((Math.random()-.5)*1600,(Math.random()-.5)*1e3,(Math.random()-.5)*800),section:t,pulsePhase:Math.random()*Math.PI*2},s=Math.floor(Math.random()*6)+4,a=[];for(let n=0;n<s;n++){const o=new C(new x(2+Math.random()*2,8,8),new T({color:new v().setHSL(.6+Math.random()*.1,.7,.6+Math.random()*.3),transparent:!0,opacity:.6+Math.random()*.3}));let r;if(n===0)r=i.center.clone();else{const c=n/s*Math.PI*2,h=80+Math.random()*120;r=i.center.clone().add(new w(Math.cos(c)*h,Math.sin(c)*h*.5,(Math.random()-.5)*100))}o.position.copy(r),a.push(r),i.stars.push(o),this.scene.add(o)}for(let n=0;n<a.length;n++)for(let o=n+1;o<a.length;o++)if(a[n].distanceTo(a[o])<150){const c=this.createConnection(a[n],a[o]);i.connections.push(c),this.scene.add(c)}this.constellations.push(i)}}createConnection(e,t){const i=new S().setFromPoints([e,t]),s=new R({color:6600182,transparent:!0,opacity:.4});return new $(i,s)}animate(e){this.constellations.forEach((t,i)=>{const s=t.section*.4;t.stars.forEach((a,n)=>{const o=n*.3,r=s+o;a.position.y+=Math.sin(e+r)*.3,a.rotation.x+=.008,a.rotation.y+=.006,a.rotation.z+=.004;const c=Math.sin(e*.8+r)*.08;a.scale.setScalar(1+c);const h=Math.sin(e*3+n*.4)*.3+.7;a.material.opacity=.6+h*.3;const d=(e*.03+n*.1)%1,u=new v().setHSL(d,.6,.7);a.material.color.lerp(u,.003)}),t.connections.forEach((a,n)=>{const o=n*.2,r=Math.sin(e*2+o)*.3+.7;a.material.opacity=.3+r*.3;const c=Math.sin(e*1.5+n*.2)*.15+1;a.scale.setScalar(c)})})}updateTheme(e){this.currentTheme=e;const t=e==="dark";this.constellations.forEach(i=>{i.stars.forEach(s=>{const a=t?.6:.5;s.material.color.setHSL(a,.8,.7)})})}updateScroll(e){this.constellations.forEach((t,i)=>{const s=document.querySelectorAll("section")[i];if(s){const a=s.getBoundingClientRect(),n=a.top+a.height/2,o=window.innerHeight/2,r=Math.abs(n-o),c=window.innerHeight/2,h=Math.max(0,1-r/c);t.stars.forEach(d=>{d.material.opacity=.3+h*.5;const u=1+h*.1;d.scale.setScalar(u),d.position.x+=e*.5*(Math.random()-.5),d.position.y+=e*.3*(Math.random()-.5)}),t.connections.forEach(d=>{d.material.opacity=.2+h*.2})}})}setPerformanceMode(e){this.performanceMode=e,e==="low"?this.constellations.forEach(t=>{t.stars.forEach(i=>{i.visible=!1})}):this.constellations.forEach(t=>{t.stars.forEach(i=>{i.visible=!0})})}dispose(){this.constellations.forEach(e=>{e.stars.forEach(t=>{t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose(),this.scene.remove(t)}),e.connections.forEach(t=>{t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose(),this.scene.remove(t)})}),this.constellations=[]}}class ae{constructor(e,t){this.scene=e,this.camera=t,this.cursor=null,this.cursorTrail=[],this.currentTheme="light",this.performanceMode="high",this.createCursor()}createCursor(){const e=new x(8,16,16),t=new T({color:6600182,transparent:!0,opacity:.8});this.cursor=new C(e,t),this.scene.add(this.cursor),this.cursorTrail=[];for(let i=0;i<10;i++){const s=new C(new x(4,8,8),new T({color:6600182,transparent:!0,opacity:.3}));this.cursorTrail.push(s),this.scene.add(s)}}updatePosition(e,t){if(!(!this.cursor||!this.camera))try{const i=new G;i.x=e/window.innerWidth*2-1,i.y=-(t/window.innerHeight)*2+1;const s=new w(i.x,i.y,.5);s.unproject(this.camera);const a=s.sub(this.camera.position).normalize(),n=-this.camera.position.z/a.z,o=this.camera.position.clone().add(a.multiplyScalar(n));this.cursor.position.copy(o),this.updateCursorTrail(o)}catch(i){console.warn("⚠️ Error actualizando posición del cursor:",i)}}updateCursorTrail(e){this.cursorTrail.forEach((t,i)=>{const s=e.clone();s.add(new w((Math.random()-.5)*20,(Math.random()-.5)*20,0)),t.position.lerp(s,.1),t.material.opacity=.3*(1-i/this.cursorTrail.length)})}createClickEffect(e,t){if(this.camera)try{const i=new G;i.x=e/window.innerWidth*2-1,i.y=-(t/window.innerHeight)*2+1;const s=new w(i.x,i.y,.5);s.unproject(this.camera);const a=s.sub(this.camera.position).normalize(),n=-this.camera.position.z/a.z,o=this.camera.position.clone().add(a.multiplyScalar(n));for(let r=0;r<20;r++){const c=new C(new x(2,8,8),new T({color:new v().setHSL(Math.random()*.3+.6,.8,.7),transparent:!0,opacity:.8}));c.position.copy(o),c.velocity=new w((Math.random()-.5)*10,(Math.random()-.5)*10,(Math.random()-.5)*10),c.life=60,this.scene.add(c),setTimeout(()=>{this.scene.remove(c)},1e3)}}catch(i){console.warn("⚠️ Error creando efecto de click:",i)}}animate(e){if(this.cursor){this.cursor.rotation.y+=.03,this.cursor.rotation.x+=.01,this.cursor.material.opacity=.7+Math.sin(e*4)*.2;const t=e*.2%1,i=new v().setHSL(t,.8,.7);this.cursor.material.color.lerp(i,.01)}}updateTheme(e){this.currentTheme=e;const t=e==="dark";this.cursor&&this.cursor.material.color.setHex(t?6600182:1668818),this.cursorTrail.forEach(i=>{i.material.color.setHex(t?6600182:1668818)})}setPerformanceMode(e){this.performanceMode=e,e==="low"?(this.cursor&&(this.cursor.visible=!1),this.cursorTrail.forEach(t=>{t.visible=!1})):(this.cursor&&(this.cursor.visible=!0),this.cursorTrail.forEach(t=>{t.visible=!0}))}dispose(){this.cursor&&(this.cursor.geometry&&this.cursor.geometry.dispose(),this.cursor.material&&this.cursor.material.dispose(),this.scene.remove(this.cursor)),this.cursorTrail.forEach(e=>{e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose(),this.scene.remove(e)}),this.cursor=null,this.cursorTrail=[]}}class ne{constructor(e){this.scene=e,this.background=null,this.currentTheme="light",this.performanceMode="high",this.createBackground()}createBackground(){const e=new S,t=this.performanceMode==="high"?1e3:500,i=new Float32Array(t*3),s=new Float32Array(t*3),a=new Float32Array(t);for(let o=0;o<t;o++){i[o*3]=(Math.random()-.5)*2e3,i[o*3+1]=(Math.random()-.5)*2e3,i[o*3+2]=(Math.random()-.5)*2e3;const r=new v;r.setHSL(Math.random()*.1+.6,.8,Math.random()*.3+.7),s[o*3]=r.r,s[o*3+1]=r.g,s[o*3+2]=r.b,a[o]=Math.random()*3+1}e.setAttribute("position",new f(i,3)),e.setAttribute("color",new f(s,3)),e.setAttribute("size",new f(a,1));const n=new U({size:2,vertexColors:!0,transparent:!0,opacity:.3});this.background=new L(e,n),this.scene.add(this.background)}updateTheme(e){if(this.currentTheme=e,this.background){const i=e==="dark"?.6:.5,s=this.background.geometry.attributes.color;for(let a=0;a<s.count;a++){const n=new v;n.setHSL(i+Math.random()*.1,.8,Math.random()*.3+.7),s.setXYZ(a,n.r,n.g,n.b)}s.needsUpdate=!0}}updateScroll(e){this.background&&(this.background.rotation.y=e*Math.PI*.1,this.background.position.y=e*50)}setPerformanceMode(e){this.performanceMode=e,e==="low"?this.background&&(this.background.visible=!1):this.background&&(this.background.visible=!0)}dispose(){this.background&&(this.background.geometry&&this.background.geometry.dispose(),this.background.material&&this.background.material.dispose(),this.scene.remove(this.background)),this.background=null}}class oe{constructor(){this.isInitialized=!1,this.currentTheme="light",this.performanceMode="high",this.particleSystem=null,this.constellationSystem=null,this.cursorSystem=null,this.backgroundSystem=null,this.scene=null,this.camera=null,this.renderer=null,this.init()}async init(){try{this.createScene(),this.createCamera(),this.createRenderer(),this.backgroundSystem=new ne(this.scene),this.particleSystem=new ie(this.scene);try{await this.initializeConstellationSystem()}catch(e){console.error("❌ Error inicializando ConstellationSystem:",e)}this.cursorSystem=new ae(this.scene,this.camera),this.addEventListeners(),this.animate(),this.isInitialized=!0}catch(e){console.error("❌ Error inicializando motor visual:",e)}}async initializeConstellationSystem(){await new Promise(e=>setTimeout(e,50)),this.constellationSystem=new se(this.scene)}createScene(){this.scene=new z,this.scene.fog=new N(0,1e3,2e3)}createCamera(){this.camera=new q(75,window.innerWidth/window.innerHeight,.1,2e3),this.camera.position.set(0,0,500)}createRenderer(){this.renderer=new k({antialias:!0,alpha:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setClearColor(0,0),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2));const e=document.getElementById("visual-effects-container");e&&e.appendChild(this.renderer.domElement)}addEventListeners(){window.addEventListener("resize",()=>this.onWindowResize()),document.addEventListener("mousemove",e=>{this.cursorSystem&&this.cursorSystem.updatePosition(e.clientX,e.clientY)}),document.addEventListener("click",e=>{this.cursorSystem&&this.cursorSystem.createClickEffect(e.clientX,e.clientY)})}animate(){if(requestAnimationFrame(()=>this.animate()),!this.isInitialized)return;const e=Date.now()*.001;this.particleSystem&&this.particleSystem.animate(e),this.constellationSystem&&this.constellationSystem.animate(e),this.cursorSystem&&this.cursorSystem.animate(e),this.renderer.render(this.scene,this.camera)}updateTheme(e){this.currentTheme=e,this.particleSystem&&this.particleSystem.updateTheme(e),this.constellationSystem&&this.constellationSystem.updateTheme(e),this.cursorSystem&&this.cursorSystem.updateTheme(e),this.backgroundSystem&&this.backgroundSystem.updateTheme(e)}updateScrollEffects(){const e=window.pageYOffset,t=document.body.scrollHeight-window.innerHeight,i=e/t;this.backgroundSystem&&this.backgroundSystem.updateScroll(i),this.constellationSystem&&this.constellationSystem.updateScroll(i),this.particleSystem&&this.particleSystem.updateScroll(i)}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}setPerformanceMode(e){this.performanceMode=e,this.particleSystem&&this.particleSystem.setPerformanceMode(e),this.constellationSystem&&this.constellationSystem.setPerformanceMode(e),this.cursorSystem&&this.cursorSystem.setPerformanceMode(e)}dispose(){this.particleSystem&&this.particleSystem.dispose(),this.constellationSystem&&this.constellationSystem.dispose(),this.cursorSystem&&this.cursorSystem.dispose(),this.backgroundSystem&&this.backgroundSystem.dispose(),this.renderer&&this.renderer.dispose(),this.isInitialized=!1}}class re{constructor(){this.components=new Map,this.loadedComponents=new Set}async loadComponent(e,t,i={}){try{const s=`src/components/${e}.html`,a=await fetch(s);if(!a.ok)throw new Error(`Error cargando componente: ${e} - Status: ${a.status}`);const n=await a.text(),o=document.createElement("div");o.innerHTML=n.trim();let r=null;for(let h of o.children)if(h.nodeType===Node.ELEMENT_NODE&&h.tagName!=="SCRIPT"&&h.tagName!=="STYLE"){r=h;break}if(r||(r=o.firstElementChild),!r)throw new Error(`Componente ${e} no tiene elementos hijos válidos`);this.processComponentData(r,i);const c=document.querySelector(t);if(c)c.appendChild(r);else throw new Error(`Target no encontrado: ${t}`);return this.components.set(e,r),this.loadedComponents.add(e),r}catch(s){throw console.error(`❌ Error cargando componente ${e}:`,s),s}}processComponentData(e,t){Object.keys(t).forEach(i=>{e.querySelectorAll(`[data-bind="${i}"]`).forEach(a=>{a.tagName==="INPUT"||a.tagName==="TEXTAREA"?a.value=t[i]:a.textContent=t[i]})})}async loadComponents(e){const t=e.map(i=>this.loadComponent(i.name,i.target,i.data));return Promise.all(t)}async reloadComponent(e,t,i={}){const s=this.components.get(e);return s&&s.parentNode&&s.parentNode.removeChild(s),this.components.delete(e),this.loadedComponents.delete(e),this.loadComponent(e,t,i)}getComponent(e){return this.components.get(e)||null}isComponentLoaded(e){return this.loadedComponents.has(e)}clearComponents(){this.components.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),this.components.clear(),this.loadedComponents.clear()}}const _=new re,W={main:[{name:"Header",target:"body",data:{},order:1},{name:"Hero",target:"#main-content",data:{name:"Carlos Orbegoso",role:"Backend Developer & Java Specialist",company:"Tata Consultancy Services",techStack:["Java","Spring","Quarkus","Angular"]},order:2},{name:"About",target:"#main-content",data:{title:"Sobre Mí",description:"Backend Developer con más de 5 años de experiencia en desarrollo de aplicaciones empresariales robustas y escalables.",image:"src/assets/images/profile.jpeg"},order:3},{name:"Experience",target:"#main-content",data:{title:"Experiencia",experiences:[{period:"2023 - Presente",title:"Senior Backend Developer",company:"Tata Consultancy Services",description:"Desarrollo de microservicios con Spring Boot y Quarkus."},{period:"2021 - 2023",title:"Backend Developer",company:"Tech Solutions Inc.",description:"Desarrollo de APIs RESTful con Spring Framework."}]},order:4},{name:"Skills",target:"#main-content",data:{title:"Habilidades",categories:[{name:"Backend",skills:["Java 11+","Spring Boot","Quarkus","Microservicios"]},{name:"Frontend",skills:["Angular","TypeScript","HTML5/CSS3","JavaScript ES6+"]},{name:"DevOps",skills:["Docker","Kubernetes","Jenkins","AWS"]}]},order:5},{name:"Projects",target:"#main-content",data:{title:"Proyectos",projects:[{name:"E-commerce Microservices",type:"Full Stack - Java + Angular",description:"Microservices architecture for e-commerce platform.",tech:["Java 11","Spring Cloud","Angular","MySQL","Kubernetes"],icon:"fas fa-shopping-cart"},{name:"Hospital Management System",type:"Backend - Quarkus",description:"Comprehensive hospital management system with Quarkus.",tech:["Quarkus","PostgreSQL","JUnit 5","Swagger","Docker"],icon:"fas fa-hospital"}]},order:6},{name:"Contact",target:"#main-content",data:{title:"Let's Connect!",subtitle:"Are you looking for a challenging backend project?",email:"carlos.orbegoso@email.com",linkedin:"linkedin.com/in/carlosorbegoso",github:"github.com/carlosorbegoso"},order:7},{name:"Footer",target:"body",data:{copyright:"© 2024 Carlos Orbegoso. All rights reserved."},order:8}],optional:[],loading:{strategy:"sequential",delay:100,timeout:5e3,retryAttempts:3}};function ce(){return W.main.sort((l,e)=>l.order-e.order)}function le(){return W.optional.filter(l=>l.condition?l.condition():!0)}function he(){return W.loading}const F={light:{mobile:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",borderOpacity:.15,shadow:"0 4px 20px rgba(0, 0, 0, 0.12)",borderColor:"rgba(100, 181, 246, 0.15)"},tablet:{background:"rgba(255, 255, 255, 0.6)",backdropFilter:"blur(15px)",borderOpacity:.08,shadow:"0 2px 15px rgba(0, 0, 0, 0.08)",borderColor:"rgba(100, 181, 246, 0.08)"},desktop:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(6px)",borderOpacity:.02,shadow:"0 1px 8px rgba(0, 0, 0, 0.03)",borderColor:"rgba(100, 181, 246, 0.02)"}},dark:{mobile:{background:"rgba(26, 26, 46, 0.9)",backdropFilter:"blur(20px)",borderOpacity:.2,shadow:"0 4px 20px rgba(0, 0, 0, 0.2)",borderColor:"rgba(79, 195, 247, 0.2)"},tablet:{background:"rgba(26, 26, 46, 0.7)",backdropFilter:"blur(15px)",borderOpacity:.12,shadow:"0 2px 15px rgba(0, 0, 0, 0.15)",borderColor:"rgba(79, 195, 247, 0.12)"},desktop:{background:"rgba(26, 26, 46, 0.25)",backdropFilter:"blur(6px)",borderOpacity:.03,shadow:"0 1px 8px rgba(0, 0, 0, 0.05)",borderColor:"rgba(79, 195, 247, 0.03)"}},breakpoints:{mobile:768,tablet:1024,desktop:1440},transitions:{duration:"0.4s",easing:"cubic-bezier(0.4, 0, 0.2, 1)",header:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",theme:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},responsive:{mobile:{padding:"var(--spacing-sm) var(--spacing-md)",gap:"var(--spacing-md)",iconSize:"32px",buttonSize:"32px"},tablet:{padding:"var(--spacing-md) var(--spacing-lg)",gap:"var(--spacing-lg)",iconSize:"36px",buttonSize:"36px"},desktop:{padding:"var(--spacing-md) var(--spacing-xl)",gap:"var(--spacing-2xl)",iconSize:"40px",buttonSize:"36px"}}};function de(l,e){return F[l]?.[e]||F.light.desktop}function Y(l,e){const t=l/e;return l<=F.breakpoints.mobile||l<=F.breakpoints.tablet&&t<1.2?"mobile":l<=F.breakpoints.tablet||l<=F.breakpoints.desktop&&t<1.5?"tablet":"desktop"}class me{constructor(){this.deviceType=Y(window.innerWidth,window.innerHeight),this.isMobile=this.deviceType==="mobile",this.isTablet=this.deviceType==="tablet",this.isDesktop=this.deviceType==="desktop",this.init()}detectDevice(){return Y(window.innerWidth,window.innerHeight)}getTransparencyConfig(){const e=document.documentElement.getAttribute("data-theme")||"light";return de(e,this.deviceType)}updateHeaderTransparency(){const e=document.querySelector(".header");if(!e)return;const t=this.getTransparencyConfig();e.style.setProperty("--header-bg",t.background),e.style.setProperty("--header-backdrop",t.backdropFilter),e.style.setProperty("--header-border",`1px solid ${t.borderColor}`),e.style.setProperty("--header-shadow",t.shadow),e.style.background=t.background,e.style.backdropFilter=t.backdropFilter,e.style.borderBottom=`1px solid ${t.borderColor}`,e.style.boxShadow=t.shadow}updateThemeTransparency(e){this.updateHeaderTransparency()}handleResize(){const e=this.detectDevice();e!==this.deviceType&&(this.deviceType=e,this.isMobile=this.deviceType==="mobile",this.isTablet=this.deviceType==="tablet",this.isDesktop=this.deviceType==="desktop",this.updateHeaderTransparency())}init(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{this.setupDeviceDetector()}):this.setupDeviceDetector()}setupDeviceDetector(){this.updateHeaderTransparency(),window.addEventListener("resize",this.handleResize.bind(this)),new MutationObserver(t=>{t.forEach(i=>{if(i.type==="attributes"&&i.attributeName==="data-theme"){const s=document.documentElement.getAttribute("data-theme");this.updateThemeTransparency(s)}})}).observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]})}refresh(){this.updateHeaderTransparency()}getDeviceInfo(){return{type:this.deviceType,isMobile:this.isMobile,isTablet:this.isTablet,isDesktop:this.isDesktop,width:window.innerWidth,height:window.innerHeight,ratio:window.innerWidth/window.innerHeight}}}class ue{constructor(){this.menuToggle=null,this.navLinks=null,this.isMenuOpen=!1,this.init()}init(){this.waitForComponents()}waitForComponents(){let t=0;const i=()=>{this.menuToggle=document.getElementById("menu-toggle"),this.navLinks=document.querySelector(".nav-links"),this.menuToggle&&this.navLinks?this.setupEventListeners():(t++,t<50?setTimeout(i,100):console.warn("⚠️ Elementos del menú móvil no encontrados después de múltiples intentos"))};i()}setupEventListeners(){this.menuToggle.addEventListener("click",()=>{this.toggleMenu()}),this.navLinks.addEventListener("click",e=>{e.target.classList.contains("nav-link")&&this.closeMenu()}),document.addEventListener("click",e=>{!this.menuToggle.contains(e.target)&&!this.navLinks.contains(e.target)&&this.closeMenu()}),window.addEventListener("resize",()=>{window.innerWidth>768&&this.closeMenu()})}toggleMenu(){this.isMenuOpen?this.closeMenu():this.openMenu()}openMenu(){this.isMenuOpen=!0,this.menuToggle.classList.add("active"),this.navLinks.classList.add("active"),document.body.style.overflow="hidden"}closeMenu(){this.isMenuOpen=!1,this.menuToggle.classList.remove("active"),this.navLinks.classList.remove("active"),document.body.style.overflow=""}forceClose(){this.closeMenu()}isOpen(){return this.isMenuOpen}}class pe{constructor(){this.scene=null,this.camera=null,this.renderer=null,this.particles=[],this.constellations=[],this.stars=[],this.animationId=null,this.isInitialized=!1,this.currentTheme="light",this.config={particles:{count:150,size:{min:1,max:3},speed:{min:.1,max:.3},opacity:{min:.3,max:.8}},constellations:{count:5,starsPerConstellation:{min:4,max:8},connectionOpacity:.4,glowIntensity:.6},stars:{count:200,size:{min:.5,max:2},twinkleSpeed:{min:2,max:5}}}}async init(e="hero-particles"){try{return typeof X>"u"?(console.warn("Three.js no está disponible"),!1):(this.setupScene(),this.setupCamera(),this.setupRenderer(e),this.createParticleSystem(),this.createConstellationSystem(),this.createStarSystem(),this.setupEventListeners(),this.animate(),this.isInitialized=!0,!0)}catch(t){return console.error("❌ Error inicializando Hero Three.js Engine:",t),!1}}setupScene(){this.scene=new z,this.scene.fog=new N(0,50,200)}setupCamera(){this.camera=new q(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=50,this.camera.position.y=0}setupRenderer(e){const t=document.getElementById(e);if(!t){console.warn(`Contenedor ${e} no encontrado`);return}this.renderer=new k({antialias:!0,alpha:!0,powerPreference:"high-performance"}),this.renderer.setSize(t.offsetWidth,t.offsetHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.setClearColor(0,0),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=J,t.appendChild(this.renderer.domElement),this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0",this.renderer.domElement.style.left="0",this.renderer.domElement.style.zIndex="1"}createParticleSystem(){const e=new S,t=this.config.particles.count,i=new Float32Array(t*3),s=new Float32Array(t*3),a=new Float32Array(t),n=new Float32Array(t),o=new Float32Array(t);for(let c=0;c<t;c++){const h=c/t*Math.PI*4,d=20+c/t*30,u=c/t*40-20;i[c*3]=Math.cos(h)*d,i[c*3+1]=u,i[c*3+2]=Math.sin(h)*d;const g=this.currentTheme==="dark"?new v(5227511):new v(6600182);s[c*3]=g.r,s[c*3+1]=g.g,s[c*3+2]=g.b,a[c]=Math.random()*(this.config.particles.size.max-this.config.particles.size.min)+this.config.particles.size.min,n[c]=Math.random()*(this.config.particles.speed.max-this.config.particles.speed.min)+this.config.particles.speed.min,o[c]=Math.random()*(this.config.particles.opacity.max-this.config.particles.opacity.min)+this.config.particles.opacity.min}e.setAttribute("position",new f(i,3)),e.setAttribute("color",new f(s,3)),e.setAttribute("size",new f(a,1)),e.setAttribute("speed",new f(n,1)),e.setAttribute("opacity",new f(o,1));const r=new O({uniforms:{time:{value:0},theme:{value:this.currentTheme==="dark"?1:0}},vertexShader:`
                attribute vec3 color;
                attribute float size;
                attribute float speed;
                attribute float opacity;
                varying float vOpacity;
                varying vec3 vColor;
                
                
                void main() {
                    vOpacity = opacity;
                    vColor = color;
                    
                    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
                    gl_PointSize = size * (300.0 / -mvPosition.z);
                    gl_Position = projectionMatrix * mvPosition;
                }
            `,fragmentShader:`
                uniform float time;
                uniform float theme;
                varying float vOpacity;
                varying vec3 vColor;
                
                void main() {
                    float alpha = vOpacity * (0.8 + 0.2 * sin(time * 2.0));
                    vec3 finalColor = mix(vColor, vec3(1.0, 1.0, 1.0), theme * 0.3);
                    gl_FragColor = vec4(finalColor, alpha);
                }
            `,transparent:!0,blending:I,depthWrite:!1});this.particleSystem=new L(e,r),this.scene.add(this.particleSystem)}createConstellationSystem(){const e=this.config.constellations.count;for(let t=0;t<e;t++){const i=this.createConstellation(t,e);this.constellations.push(i),this.scene.add(i)}}createConstellation(e,t){const i=new H,s=Math.floor(Math.random()*(this.config.constellations.starsPerConstellation.max-this.config.constellations.starsPerConstellation.min)+this.config.constellations.starsPerConstellation.min),a=[];for(let r=0;r<s;r++){const c=this.createStar(.8,1.2),h=r/s*Math.PI*2,d=8+Math.random()*4,u=Math.cos(h)*d,g=Math.sin(h)*d,b=(Math.random()-.5)*10;c.position.set(u,g,b),a.push(new w(u,g,b)),i.add(c)}for(let r=0;r<s;r++)for(let c=r+1;c<s;c++)if(Math.random()>.5){const h=this.createConnection(a[r],a[c]);i.add(h)}const n=e/t*Math.PI*2,o=25+Math.random()*15;return i.position.set(Math.cos(n)*o,Math.sin(n)*o*.5,(Math.random()-.5)*20),i}createStar(e,t){const i=new x(e,8,6),s=new T({color:16777215,transparent:!0,opacity:t}),a=new C(i,s);return a.userData={originalIntensity:t,twinkleSpeed:Math.random()*3+2},a}createConnection(e,t){const i=new S().setFromPoints([e,t]),s=new R({color:5227511,transparent:!0,opacity:this.config.constellations.connectionOpacity});return new $(i,s)}createStarSystem(){const e=new S,t=this.config.stars.count,i=new Float32Array(t*3),s=new Float32Array(t),a=new Float32Array(t);for(let o=0;o<t;o++){const r=Math.acos(-1+2*o/t),c=Math.sqrt(t*Math.PI)*r,h=80+Math.random()*20;i[o*3]=h*Math.cos(c)*Math.sin(r),i[o*3+1]=h*Math.sin(c)*Math.sin(r),i[o*3+2]=h*Math.cos(r),s[o]=Math.random()*(this.config.stars.size.max-this.config.stars.size.min)+this.config.stars.size.min,a[o]=Math.random()*(this.config.stars.twinkleSpeed.max-this.config.stars.twinkleSpeed.min)+this.config.stars.twinkleSpeed.min}e.setAttribute("position",new f(i,3)),e.setAttribute("size",new f(s,1)),e.setAttribute("twinkleSpeed",new f(a,1));const n=new O({uniforms:{time:{value:0}},vertexShader:`
                attribute float size;
                varying float vSize;
                
                void main() {
                    vSize = size;
                    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
                    gl_PointSize = size * (300.0 / -mvPosition.z);
                    gl_Position = projectionMatrix * mvPosition;
                }
            `,fragmentShader:`
                uniform float time;
                varying float vSize;
                
                void main() {
                    float twinkle = 0.8 + 0.2 * sin(time * 2.0);
                    float alpha = twinkle * (0.6 + 0.4 * (vSize / 2.0));
                    gl_FragColor = vec4(1.0, 1.0, 1.0, alpha);
                }
            `,transparent:!0,blending:I,depthWrite:!1});this.starSystem=new L(e,n),this.scene.add(this.starSystem)}setupEventListeners(){window.addEventListener("resize",()=>this.onWindowResize()),document.addEventListener("mousemove",e=>{if(!this.isInitialized)return;const t=e.clientX/window.innerWidth*2-1,i=-(e.clientY/window.innerHeight)*2+1;this.camera.position.x=t*5,this.camera.position.y=i*3,this.camera.lookAt(0,0,0)}),window.addEventListener("scroll",()=>{if(!this.isInitialized)return;const t=window.pageYOffset*-.1;this.particleSystem.position.y=t,this.starSystem.position.y=t*.5})}onWindowResize(){!this.renderer||!this.camera||(this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight))}animate(){if(this.animationId=requestAnimationFrame(()=>this.animate()),!this.isInitialized)return;const e=Date.now()*.001;this.particleSystem&&(this.particleSystem.material.uniforms.time.value=e,this.particleSystem.rotation.y=e*.1,this.particleSystem.rotation.x=e*.05),this.constellations.forEach((t,i)=>{t.rotation.y=e*(.1+i*.05),t.rotation.z=e*(.05+i*.02),t.children.forEach((s,a)=>{if(s.type==="Mesh"){const n=Math.sin(e*s.userData.twinkleSpeed)*.3+.7;s.material.opacity=s.userData.originalIntensity*n}})}),this.starSystem&&(this.starSystem.material.uniforms.time.value=e,this.starSystem.rotation.y=e*.02),this.renderer.render(this.scene,this.camera)}updateTheme(e){this.currentTheme=e,this.particleSystem&&this.particleSystem.material.uniforms&&(this.particleSystem.material.uniforms.theme.value=e==="dark"?1:0),this.constellations.forEach(t=>{t.children.forEach(i=>{i.type==="Line"&&i.material.color.setHex(e==="dark"?5227511:6600182)})})}setPerformanceMode(e=!0){this.renderer&&(e?this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)):this.renderer.setPixelRatio(1))}dispose(){this.animationId&&cancelAnimationFrame(this.animationId),this.renderer&&(this.renderer.dispose(),this.renderer.domElement&&this.renderer.domElement.parentNode&&this.renderer.domElement.parentNode.removeChild(this.renderer.domElement)),this.scene=null,this.camera=null,this.renderer=null,this.particles=[],this.constellations=[],this.stars=[],this.isInitialized=!1}}class fe{constructor(){this.isInitialized=!1,this.currentTheme="light",this.effects=new Map,this.animationId=null,this.config={glow:{intensity:.3,spread:15,color:{light:"#64B5F6",dark:"#4FC3F7"}},particles:{count:20,size:{min:1,max:3},speed:{min:.5,max:2},opacity:{min:.1,max:.4}},wave:{amplitude:2,frequency:.02,speed:.5}}}init(){this.isInitialized||(this.setupEventListeners(),this.createTextEffects(),this.animate(),this.isInitialized=!0)}setupEventListeners(){new MutationObserver(t=>{t.forEach(i=>{if(i.type==="attributes"&&i.attributeName==="data-theme"){const s=document.documentElement.getAttribute("data-theme");this.updateTheme(s)}})}).observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),window.addEventListener("scroll",()=>{this.updateScrollEffects()}),document.addEventListener("mousemove",t=>{this.updateMouseEffects(t)})}createTextEffects(){this.createTitleEffects(),this.createSubtitleEffects(),this.createBadgeEffects()}createTitleEffects(){const e=document.querySelector(".title-first"),t=document.querySelector(".title-second");e&&(this.createGlowEffect(e,this.config.glow.color.light),this.createParticleEffect(e),this.createWaveEffect(e)),t&&(this.createGlowEffect(t,this.config.glow.color.dark),this.createParticleEffect(t),this.createWaveEffect(t))}createSubtitleEffects(){const e=document.querySelector(".hero-subtitle");e&&this.createSubtleGlowEffect(e)}createBadgeEffects(){document.querySelectorAll(".tech-badge, .hero-badge, .company-badge").forEach(t=>{this.createBadgeGlowEffect(t)})}createGlowEffect(e,t){const i=`glow-${Math.random().toString(36).substr(2,9)}`,s=document.createElement("div");s.className="text-glow",s.style.cssText=`
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, ${t}20 0%, transparent 70%);
            filter: blur(${this.config.glow.spread}px);
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: -1;
        `,e.style.position="relative",e.appendChild(s),this.effects.set(i,{type:"glow",element:s,target:e,color:t}),setTimeout(()=>{s.style.opacity=this.config.glow.intensity},100)}createParticleEffect(e){const t=`particles-${Math.random().toString(36).substr(2,9)}`,i=[];for(let s=0;s<this.config.particles.count;s++){const a=document.createElement("div");a.className="text-particle";const n=Math.random()*(this.config.particles.size.max-this.config.particles.size.min)+this.config.particles.size.min;a.style.cssText=`
                position: absolute;
                width: ${n}px;
                height: ${n}px;
                background: ${this.currentTheme==="dark"?"#4FC3F7":"#64B5F6"};
                border-radius: 50%;
                opacity: 0;
                pointer-events: none;
                z-index: 10;
            `,e.appendChild(a),i.push(a)}this.effects.set(t,{type:"particles",particles:i,target:e})}createWaveEffect(e){const t=`wave-${Math.random().toString(36).substr(2,9)}`,i=document.createElement("div");i.className="text-wave",i.style.cssText=`
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, ${this.currentTheme==="dark"?"#4FC3F7":"#64B5F6"}20, transparent);
            opacity: 0;
            transform: translateX(-100%);
            transition: all 0.6s ease;
            pointer-events: none;
            z-index: 1;
        `,e.appendChild(i),this.effects.set(t,{type:"wave",element:i,target:e}),setInterval(()=>{i.style.transform="translateX(100%)",i.style.opacity="0.3",setTimeout(()=>{i.style.transform="translateX(-100%)",i.style.opacity="0"},600)},3e3)}createSubtleGlowEffect(e){const t=`subtle-glow-${Math.random().toString(36).substr(2,9)}`,i=document.createElement("div");i.className="subtle-glow",i.style.cssText=`
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(100, 181, 246, 0.1) 0%, transparent 80%);
            filter: blur(8px);
            opacity: 0;
            transition: opacity 0.4s ease;
            pointer-events: none;
            z-index: -1;
        `,e.style.position="relative",e.appendChild(i),this.effects.set(t,{type:"subtle-glow",element:i,target:e}),setTimeout(()=>{i.style.opacity="1"},200)}createBadgeGlowEffect(e){const t=`badge-glow-${Math.random().toString(36).substr(2,9)}`,i=document.createElement("div");i.className="badge-glow",i.style.cssText=`
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #64B5F6, #4FC3F7, #64B5F6);
            border-radius: inherit;
            opacity: 0;
            filter: blur(4px);
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: -1;
        `,e.style.position="relative",e.appendChild(i),this.effects.set(t,{type:"badge-glow",element:i,target:e}),e.addEventListener("mouseenter",()=>{i.style.opacity="0.6"}),e.addEventListener("mouseleave",()=>{i.style.opacity="0"})}updateTheme(e){this.currentTheme=e,this.effects.forEach((t,i)=>{if(t.type==="glow"){const s=e==="dark"?this.config.glow.color.dark:this.config.glow.color.light;t.element.style.background=`radial-gradient(circle, ${s}20 0%, transparent 70%)`,t.color=s}t.type==="particles"&&t.particles.forEach(s=>{s.style.background=e==="dark"?"#4FC3F7":"#64B5F6"}),t.type==="wave"&&(t.element.style.background=`linear-gradient(90deg, transparent, ${e==="dark"?"#4FC3F7":"#64B5F6"}20, transparent)`)})}updateScrollEffects(){const t=window.pageYOffset*.001;this.effects.forEach((i,s)=>{i.type==="particles"&&i.particles.forEach((a,n)=>{const o=n/i.particles.length*.5;a.style.transform=`translateY(${t*o*100}px)`})})}updateMouseEffects(e){const t=e.clientX,i=e.clientY;this.effects.forEach((s,a)=>{s.type==="particles"&&s.particles.forEach((n,o)=>{const r=s.target.getBoundingClientRect(),c=r.left+r.width/2,h=r.top+r.height/2,d=(t-c)*.01,u=(i-h)*.01;n.style.transform=`translate(${d}px, ${u}px)`})})}animate(){if(this.animationId=requestAnimationFrame(()=>this.animate()),!this.isInitialized)return;const e=Date.now()*.001;this.effects.forEach((t,i)=>{t.type==="particles"&&t.particles.forEach((s,a)=>{const n=this.config.particles.speed.min+(this.config.particles.speed.max-this.config.particles.speed.min)*(a/t.particles.length),o=this.config.particles.opacity.min+(this.config.particles.opacity.max-this.config.particles.opacity.min)*Math.sin(e*n+a);s.style.opacity=o})})}dispose(){this.animationId&&cancelAnimationFrame(this.animationId),this.effects.forEach((e,t)=>{e.element&&e.element.parentNode&&e.element.parentNode.removeChild(e.element),e.particles&&e.particles.forEach(i=>{i.parentNode&&i.parentNode.removeChild(i)})}),this.effects.clear(),this.isInitialized=!1}}class ge{constructor(){this.scene=null,this.camera=null,this.renderer=null,this.particles=[],this.buttons=[],this.animationId=null,this.isInitialized=!1,this.currentTheme="light",this.config={particlesPerButton:8,size:{min:.3,max:.8},speed:{min:.2,max:.6},opacity:{min:.06,max:.15},colors:{primary:{light:"rgba(255, 255, 255, 0.3)",dark:"rgba(255, 255, 255, 0.3)"},outline:{light:"rgba(255, 255, 255, 0.25)",dark:"rgba(255, 255, 255, 0.25)"}}}}async init(){try{return typeof X>"u"?(console.warn("Three.js no está disponible para Button Particles"),!1):(this.setupScene(),this.setupCamera(),this.setupRenderer(),this.findButtons(),this.createButtonParticles(),this.setupEventListeners(),this.animate(),this.isInitialized=!0,!0)}catch(e){return console.error("❌ Error inicializando Button Particles Engine:",e),!1}}setupScene(){this.scene=new z,this.scene.fog=new N(0,10,50)}setupCamera(){this.camera=new q(75,window.innerWidth/window.innerHeight,.1,100),this.camera.position.z=30}setupRenderer(){this.renderer=new k({antialias:!0,alpha:!0,powerPreference:"high-performance"}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.setClearColor(0,0),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=J,document.body.appendChild(this.renderer.domElement),this.renderer.domElement.style.cssText=`
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        `}findButtons(){this.buttons=document.querySelectorAll(".btn-hero")}createButtonParticles(){this.buttons.forEach((e,t)=>{const i=e.classList.contains("btn-primary")?"primary":"outline";e.getBoundingClientRect();for(let s=0;s<this.config.particlesPerButton;s++){const a=this.createParticle(i,t,s);this.particles.push(a),this.scene.add(a)}})}createParticle(e,t,i){const s=new S,a=i/this.config.particlesPerButton*Math.PI*2,n=8+Math.random()*4,o=Math.cos(a)*n,r=Math.sin(a)*n,c=(Math.random()-.5)*6;s.setAttribute("position",new f(new Float32Array([o,r,c]),3));const h=Math.random()*(this.config.size.max-this.config.size.min)+this.config.size.min,d=Math.random()*(this.config.speed.max-this.config.speed.min)+this.config.speed.min;s.setAttribute("size",new f(new Float32Array([h]),1)),s.setAttribute("speed",new f(new Float32Array([d]),1));const u=new O({uniforms:{time:{value:0},theme:{value:this.currentTheme==="dark"?1:0},buttonType:{value:e==="primary"?1:0}},vertexShader:`
                attribute float size;
                attribute float speed;
                varying float vSize;
                varying float vSpeed;
                
                void main() {
                    vSize = size;
                    vSpeed = speed;
                    
                    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
                    gl_PointSize = size * (300.0 / -mvPosition.z);
                    gl_Position = projectionMatrix * mvPosition;
                }
            `,fragmentShader:`
                uniform float time;
                uniform float theme;
                uniform float buttonType;
                varying float vSize;
                varying float vSpeed;
                
                void main() {
                    // Color base unificado para ambos botones
                    vec3 baseColor = vec3(1.0, 1.0, 1.0);
                    
                    // Efecto de twinkle sutil
                    float twinkle = 0.8 + 0.2 * sin(time * vSpeed * 1.0);
                    
                    // Efecto de respiración suave
                    float breathing = 0.9 + 0.1 * sin(time * 0.3);
                    
                    // Efecto de pulso orbital
                    float pulse = 0.7 + 0.3 * sin(time * 0.5);
                    
                    // Opacidad final ultra sutil y elegante
                    float alpha = twinkle * breathing * pulse * 0.12;
                    
                    gl_FragColor = vec4(baseColor, alpha);
                }
            `,transparent:!0,blending:I,depthWrite:!1}),g=new L(s,u);return g.userData={buttonType:e,buttonIndex:t,particleIndex:i,originalPosition:new w(o,r,c),targetPosition:new w(o,r,c),orbitalRadius:n,orbitalAngle:a,orbitalSpeed:.5+Math.random()*.5,velocity:new w((Math.random()-.5)*.05,(Math.random()-.5)*.05,(Math.random()-.5)*.02)},g}setupEventListeners(){new MutationObserver(t=>{t.forEach(i=>{if(i.type==="attributes"&&i.attributeName==="data-theme"){const s=document.documentElement.getAttribute("data-theme");this.updateTheme(s)}})}).observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),document.addEventListener("mousemove",t=>{this.updateMouseEffects(t)}),window.addEventListener("resize",()=>{this.onWindowResize()})}updateMouseEffects(e){const t=e.clientX/window.innerWidth*2-1,i=-(e.clientY/window.innerHeight)*2+1;this.camera.position.x=t*5,this.camera.position.y=i*3,this.camera.lookAt(0,0,0),this.particles.forEach(s=>{const a=this.buttons[s.userData.buttonIndex]?.getBoundingClientRect();if(a){const n=(a.left+a.width/2)/window.innerWidth*2-1,o=-(a.top+a.height/2)/window.innerHeight*2+1,r=(t-n)*.05,c=(i-o)*.05;s.userData.orbitalRadius=s.userData.orbitalRadius+(r+c)*2,s.userData.orbitalRadius=Math.max(6,Math.min(12,s.userData.orbitalRadius))}})}updateTheme(e){this.currentTheme=e,this.particles.forEach(t=>{t.material.uniforms&&(t.material.uniforms.theme.value=e==="dark"?1:0)})}onWindowResize(){!this.camera||!this.renderer||(this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight))}animate(){if(this.animationId=requestAnimationFrame(()=>this.animate()),!this.isInitialized)return;const e=Date.now()*.001;this.particles.forEach(t=>{t.material.uniforms&&(t.material.uniforms.time.value=e);const i=t.userData.orbitalRadius,s=t.userData.orbitalAngle,a=t.userData.orbitalSpeed,n=s+e*a*.2,o=Math.cos(n)*i,r=Math.sin(n)*i,c=Math.sin(e*t.userData.velocity.x)*.3+Math.sin(e*.5)*.2,h=Math.cos(e*t.userData.velocity.y)*.3+Math.cos(e*.7)*.2,d=Math.sin(e*t.userData.velocity.z)*.2+Math.sin(e*.3)*.1;t.position.x+=(o+c-t.position.x)*.015,t.position.y+=(r+h-t.position.y)*.015,t.position.z+=(t.userData.originalPosition.z+d-t.position.z)*.008,t.rotation.y=e*.015,t.rotation.x=e*.008}),this.renderer.render(this.scene,this.camera)}dispose(){this.animationId&&cancelAnimationFrame(this.animationId),this.renderer&&(this.renderer.dispose(),this.renderer.domElement&&this.renderer.domElement.parentNode&&this.renderer.domElement.parentNode.removeChild(this.renderer.domElement)),this.scene=null,this.camera=null,this.renderer=null,this.particles=[],this.buttons=[],this.isInitialized=!1}}class K{constructor(e){this.badgeElement=e,this.scene=null,this.camera=null,this.renderer=null,this.particles=[],this.animationId=null,this.isActive=!1,this.config={particlesCount:8,size:{min:.15,max:.4},speed:{min:.05,max:.2},opacity:{min:.02,max:.05},colors:{primary:"rgba(100, 181, 246, 0.25)",accent:"rgba(79, 195, 247, 0.25)",white:"rgba(255, 255, 255, 0.2)"}},this.init()}init(){try{this.setupThreeJS(),this.createParticles(),this.setupEventListeners(),this.animate(),this.isActive=!0}catch(e){console.warn("❌ Error inicializando Badge Particles Engine:",e)}}setupThreeJS(){this.scene=new z;const e=1,t=2;this.camera=new B(t*e/-2,t*e/2,t/2,t/-2,.1,1e3),this.camera.position.z=1,this.renderer=new k({alpha:!0,antialias:!0}),this.renderer.setSize(200,200),this.renderer.setClearColor(0,0),this.particlesContainer=document.createElement("div"),this.particlesContainer.className="badge-particles-container",this.particlesContainer.style.cssText=`
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            pointer-events: none;
            z-index: 1;
        `,this.particlesContainer.appendChild(this.renderer.domElement),this.badgeElement.appendChild(this.particlesContainer)}createParticles(){const e=new S,t=[],i=[],s=[],a=[];for(let o=0;o<this.config.particlesCount;o++){const r=o/this.config.particlesCount*Math.PI*2,c=.8+Math.random()*.4,h=Math.cos(r)*c,d=Math.sin(r)*c,u=(Math.random()-.5)*.1;t.push(h,d,u);const g=Object.keys(this.config.colors),b=this.config.colors[g[Math.floor(Math.random()*g.length)]],M=new v(b);i.push(M.r,M.g,M.b);const D=this.config.size.min+Math.random()*(this.config.size.max-this.config.size.min),ee=this.config.speed.min+Math.random()*(this.config.speed.max-this.config.speed.min);s.push(D),a.push(ee)}e.setAttribute("position",new A(t,3)),e.setAttribute("color",new A(i,3)),e.setAttribute("size",new A(s,1)),e.setAttribute("speed",new A(a,1));const n=new O({uniforms:{time:{value:0},theme:{value:0}},vertexShader:`
                attribute float size;
                attribute float speed;
                attribute vec3 color;
                varying float vOpacity;
                varying vec3 vColor;
                
                void main() {
                    vOpacity = 0.6;
                    vColor = color;
                    
                    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
                    gl_PointSize = size * (100.0 / -mvPosition.z);
                    gl_Position = projectionMatrix * mvPosition;
                }
            `,fragmentShader:`
                precision mediump float;
                uniform float time;
                uniform float theme;
                varying float vOpacity;
                varying vec3 vColor;
                
                void main() {
                    // Efecto de twinkle ultra sutil
                    float twinkle = 0.85 + 0.15 * sin(time * 1.5);
                    
                    // Efecto de respiración ultra sutil
                    float breathing = 0.9 + 0.1 * sin(time * 0.6);
                    
                    // Opacidad final ultra sutil
                    float alpha = twinkle * breathing * vOpacity * 0.8;
                    
                    gl_FragColor = vec4(vColor, alpha);
                }
            `,transparent:!0,depthWrite:!1,blending:I});this.particles=new L(e,n),this.scene.add(this.particles)}setupEventListeners(){this.badgeElement.addEventListener("mouseenter",()=>{this.activateSubtleEffects()}),this.badgeElement.addEventListener("mouseleave",()=>{this.deactivateSubtleEffects()})}activateSubtleEffects(){this.particles&&this.particles.material&&(this.particles.material.uniforms.theme.value=1,this.particles.scale.setScalar(1.05),this.particles.rotation.z+=.1)}deactivateSubtleEffects(){this.particles&&this.particles.material&&(this.particles.material.uniforms.theme.value=0,this.particles.scale.setScalar(1))}animate(){if(!this.isActive)return;this.animationId=requestAnimationFrame(()=>this.animate());const e=Date.now()*.001;this.particles&&this.particles.material&&(this.particles.material.uniforms.time.value=e,this.particles.rotation.z=e*.05,this.particles.position.x=Math.sin(e*.2)*.02,this.particles.position.y=Math.cos(e*.2)*.02),this.renderer.render(this.scene,this.camera)}updateTheme(e){this.particles&&this.particles.material&&(this.particles.material.uniforms.theme.value=e?0:1)}dispose(){this.isActive=!1,this.animationId&&cancelAnimationFrame(this.animationId),this.renderer&&this.renderer.dispose(),this.particlesContainer&&this.particlesContainer.parentNode&&this.particlesContainer.parentNode.removeChild(this.particlesContainer),this.scene&&this.scene.clear()}}window.BadgeParticlesEngine=K;class Q{constructor(){this.techBadges=[],this.particlesEngines=[],this.isActive=!1,this.config={particlesPerBadge:8,size:{min:.2,max:.5},speed:{min:.05,max:.2},opacity:{min:.08,max:.15},colors:{java:"rgba(255, 69, 0, 0.6)",spring:"rgba(108, 194, 74, 0.6)",quarkus:"rgba(255, 105, 180, 0.6)",angular:"rgba(221, 0, 0, 0.6)"}},this.init()}init(){try{this.findTechBadges(),this.createParticlesEngines(),this.setupEventListeners(),this.isActive=!0}catch(e){console.warn("❌ Error inicializando Tech Badges Particles Engine:",e)}}findTechBadges(){this.techBadges=document.querySelectorAll(".tech-badge")}createParticlesEngines(){this.techBadges.forEach((e,t)=>{const i=e.getAttribute("data-tech"),s=new ye(e,i,this.config);this.particlesEngines.push(s)})}setupEventListeners(){this.setupThemeListener(),this.setupDOMObserver(),this.setupHoverEffects()}setupThemeListener(){new MutationObserver(t=>{t.forEach(i=>{if(i.type==="attributes"&&i.attributeName==="data-theme"){const s=document.documentElement.getAttribute("data-theme");this.updateTheme(s==="dark")}})}).observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]})}setupDOMObserver(){new MutationObserver(t=>{t.forEach(i=>{i.type==="childList"&&document.querySelectorAll(".tech-badge").length>this.techBadges.length&&this.refreshBadges()})}).observe(document.body,{childList:!0,subtree:!0})}setupHoverEffects(){this.techBadges.forEach((e,t)=>{e.addEventListener("mouseenter",()=>{this.activateBadgeHover(t)}),e.addEventListener("mouseleave",()=>{this.deactivateBadgeHover(t)})})}activateBadgeHover(e){this.particlesEngines[e]&&this.particlesEngines[e].activateHover()}deactivateBadgeHover(e){this.particlesEngines[e]&&this.particlesEngines[e].deactivateHover()}refreshBadges(){this.particlesEngines.forEach(e=>e.dispose()),this.particlesEngines=[],this.findTechBadges(),this.createParticlesEngines()}updateTheme(e){this.particlesEngines.forEach(t=>{t.updateTheme(e)})}dispose(){this.isActive=!1,this.particlesEngines.forEach(e=>{e.dispose()}),this.particlesEngines=[],this.techBadges=[]}}class ye{constructor(e,t,i){this.badgeElement=e,this.techType=t,this.config=i,this.scene=null,this.camera=null,this.renderer=null,this.particles=null,this.animationId=null,this.isActive=!1,this.init()}init(){try{this.setupThreeJS(),this.createParticles(),this.animate(),this.isActive=!0}catch(e){console.warn(`❌ Error inicializando partículas para ${this.techType}:`,e)}}setupThreeJS(){this.scene=new z;const e=1,t=1.5;this.camera=new B(t*e/-2,t*e/2,t/2,t/-2,.1,1e3),this.camera.position.z=1,this.renderer=new k({alpha:!0,antialias:!0}),this.renderer.setSize(150,150),this.renderer.setClearColor(0,0),this.particlesContainer=document.createElement("div"),this.particlesContainer.className="tech-badge-particles-container",this.particlesContainer.style.cssText=`
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 150px;
            height: 150px;
            pointer-events: none;
            z-index: 1;
        `,this.particlesContainer.appendChild(this.renderer.domElement),this.badgeElement.appendChild(this.particlesContainer)}createParticles(){const e=new S,t=[],i=[],s=[],a=[],n=this.config.colors[this.techType]||this.config.colors.java,o=new v(n);for(let c=0;c<this.config.particlesPerBadge;c++){const h=c/this.config.particlesPerBadge*Math.PI*2,d=.6+Math.random()*.3,u=Math.cos(h)*d,g=Math.sin(h)*d,b=(Math.random()-.5)*.05;t.push(u,g,b),i.push(o.r,o.g,o.b);const M=this.config.size.min+Math.random()*(this.config.size.max-this.config.size.min),D=this.config.speed.min+Math.random()*(this.config.speed.max-this.config.speed.min);s.push(M),a.push(D)}e.setAttribute("position",new A(t,3)),e.setAttribute("color",new A(i,3)),e.setAttribute("size",new A(s,1)),e.setAttribute("speed",new A(a,1));const r=new O({uniforms:{time:{value:0},theme:{value:0}},vertexShader:`
                attribute float size;
                attribute float speed;
                attribute vec3 color;
                varying float vOpacity;
                varying vec3 vColor;
                
                void main() {
                    vOpacity = 0.4;
                    vColor = color;
                    
                    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
                    gl_PointSize = size * (75.0 / -mvPosition.z);
                    gl_Position = projectionMatrix * mvPosition;
                }
            `,fragmentShader:`
                precision mediump float;
                uniform float time;
                uniform float theme;
                varying float vOpacity;
                varying vec3 vColor;
                
                void main() {
                    // Efecto de twinkle sutil
                    float twinkle = 0.8 + 0.2 * sin(time * 1.5);
                    
                    // Efecto de respiración sutil
                    float breathing = 0.9 + 0.1 * sin(time * 0.8);
                    
                    // Efecto de energía cuando está en hover
                    float energy = 1.0;
                    if (theme > 0.5) {
                        energy = 1.0 + 0.3 * sin(time * 4.0) + 0.2 * sin(time * 2.0);
                    }
                    
                    // Opacidad final con efectos de energía
                    float alpha = twinkle * breathing * energy * vOpacity * 1.2;
                    
                    // Color con efecto de energía
                    vec3 finalColor = vColor;
                    if (theme > 0.5) {
                        // Añadir brillo de energía
                        float glow = 0.3 * sin(time * 3.0);
                        finalColor = mix(vColor, vec3(1.0), glow * 0.2);
                    }
                    
                    gl_FragColor = vec4(finalColor, alpha);
                }
            `,transparent:!0,depthWrite:!1,blending:I});this.particles=new L(e,r),this.scene.add(this.particles)}animate(){if(!this.isActive)return;this.animationId=requestAnimationFrame(()=>this.animate());const e=Date.now()*.001;if(this.particles&&this.particles.material){this.particles.material.uniforms.time.value=e;const t=e*.08;if(this.particles.userData.isHovered){this.particles.rotation.z=t*2;const i=1+Math.sin(e*3)*.3;this.particles.position.x=Math.sin(e*.6)*.05*i,this.particles.position.y=Math.cos(e*.6)*.05*i;const s=1+Math.sin(e*4)*.1;this.particles.scale.setScalar(this.particles.scale.x*s)}else this.particles.rotation.z=t,this.particles.position.x=Math.sin(e*.3)*.03,this.particles.position.y=Math.cos(e*.3)*.03}this.renderer.render(this.scene,this.camera)}updateTheme(e){this.particles&&this.particles.material&&(this.particles.material.uniforms.theme.value=e?0:1)}activateHover(){this.particles&&(this.particles.userData.isHovered=!0,typeof gsap<"u"?(gsap.to(this.particles.scale,{x:1.4,y:1.4,z:1.4,duration:.8,ease:"power2.out"}),gsap.to(this.particles.material.uniforms,{theme:{value:1},duration:.6,ease:"power2.out"})):(this.particles.scale.setScalar(1.4),this.particles.material.uniforms.theme.value=1),this.particles.userData.energyMode=!0,this.createHoverParticles())}deactivateHover(){this.particles&&(this.particles.userData.isHovered=!1,typeof gsap<"u"?(gsap.to(this.particles.scale,{x:1,y:1,z:1,duration:1.2,ease:"power3.out"}),gsap.to(this.particles.material.uniforms,{theme:{value:0},duration:.8,ease:"power2.out"})):(this.particles.scale.setScalar(1),this.particles.material.uniforms.theme.value=0),this.particles.userData.energyMode=!1,this.cleanupHoverParticles())}createHoverParticles(){if(!this.hoverParticles){this.hoverParticles=[];for(let e=0;e<4;e++){const t=document.createElement("div");t.className="hover-particle",t.style.cssText=`
                    position: absolute;
                    width: 3px;
                    height: 3px;
                    background: var(--primary-color);
                    border-radius: 50%;
                    pointer-events: none;
                    z-index: 10;
                    opacity: 0;
                    animation: hoverParticleFloat 2s ease-out forwards;
                `;const i=e/4*Math.PI*2,s=60+Math.random()*20;t.style.left=`calc(50% + ${Math.cos(i)*s}px)`,t.style.top=`calc(50% + ${Math.sin(i)*s}px)`,this.badgeElement.appendChild(t),this.hoverParticles.push(t)}}}cleanupHoverParticles(){this.hoverParticles&&(this.hoverParticles.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),this.hoverParticles=[])}dispose(){this.isActive=!1,this.animationId&&cancelAnimationFrame(this.animationId),this.renderer&&this.renderer.dispose(),this.particlesContainer&&this.particlesContainer.parentNode&&this.particlesContainer.parentNode.removeChild(this.particlesContainer),this.scene&&this.scene.clear()}}window.TechBadgesParticlesEngine=Q;class Z{constructor(){this.hero=null,this.heroContent=null,this.techBadges=[],this.buttons=[],this.scrollIndicator=null,this.floatingElements=[],this.isAnimating=!1,this.observer=null,this.heroThreeEngine=null,this.textEffectsEngine=null,this.buttonParticlesEngine=null,this.badgeParticlesEngine=null,this.techBadgesParticlesEngine=null,this.init()}init(){this.setupElements(),this.setupIntersectionObserver(),this.setupEventListeners(),this.startInitialAnimations()}setupElements(){this.hero=document.querySelector(".hero"),this.heroContent=document.querySelector(".hero-content"),this.techBadges=document.querySelectorAll(".tech-badge"),this.buttons=document.querySelectorAll(".btn-hero"),this.scrollIndicator=document.querySelector(".hero-scroll-indicator"),this.floatingElements=document.querySelectorAll(".floating-element")}setupIntersectionObserver(){this.hero&&(this.observer=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&this.onHeroVisible()})},{threshold:.1,rootMargin:"0px 0px -100px 0px"}),this.observer.observe(this.hero))}setupEventListeners(){this.scrollIndicator&&this.scrollIndicator.addEventListener("click",()=>{this.scrollToNextSection()}),this.techBadges.forEach(e=>{e.addEventListener("mouseenter",()=>{this.animateTechBadge(e,"enter")}),e.addEventListener("mouseleave",()=>{this.animateTechBadge(e,"leave")})}),this.buttons.forEach(e=>{e.addEventListener("mouseenter",()=>{this.animateButton(e,"enter")}),e.addEventListener("mouseleave",()=>{this.animateButton(e,"leave")})}),window.addEventListener("scroll",()=>{this.updateParallax()}),window.addEventListener("resize",()=>{this.updateResponsiveAnimations()})}startInitialAnimations(){if(!this.heroContent)return;this.heroContent.querySelectorAll(".animate-fade-in-up").forEach((t,i)=>{const s=parseFloat(t.dataset.delay)||i*.1;setTimeout(()=>{t.style.animationDelay=`${s}s`,t.classList.add("animate-in")},s*1e3)}),this.techBadges.forEach((t,i)=>{const s=parseFloat(t.dataset.delay)||i*.1;setTimeout(()=>{this.animateTechBadge(t,"enter")},(1.4+s)*1e3)})}onHeroVisible(){this.isAnimating||(this.isAnimating=!0,this.animateFloatingElements(),this.scrollIndicator&&this.animateScrollIndicator(),this.textEffectsEngine||this.initTextEffects(),this.buttonParticlesEngine||this.initButtonParticles(),this.badgeParticlesEngine||this.initBadgeParticles(),this.techBadgesParticlesEngine||this.initTechBadgesParticles(),this.initThreeJSAnimations())}animateTechBadge(e,t){if(t==="enter"){e.style.transform="translateY(-8px) scale(1.05)",e.style.boxShadow="0 12px 30px rgba(100, 181, 246, 0.3)";const i=e.querySelector(".tech-icon");i&&(i.style.transform="scale(1.2) rotate(10deg)");const s=e.querySelector(".tech-glow");s&&(s.style.opacity="1")}else{e.style.transform="translateY(0) scale(1)",e.style.boxShadow="0 4px 15px rgba(100, 181, 246, 0.1)";const i=e.querySelector(".tech-icon");i&&(i.style.transform="scale(1) rotate(0deg)");const s=e.querySelector(".tech-glow");s&&(s.style.opacity="0")}}animateButton(e,t){if(t==="enter"){e.style.transform="translateY(-4px)";const i=e.querySelector(".btn-icon");if(i&&(i.style.transform="scale(1.1)"),e.classList.contains("btn-primary")){const s=e.querySelector(".btn-particles");s&&(s.style.opacity="1")}}else{e.style.transform="translateY(0)";const i=e.querySelector(".btn-icon");i&&(i.style.transform="scale(1)");const s=e.querySelector(".btn-particles");s&&(s.style.opacity="0")}}animateFloatingElements(){this.floatingElements.forEach((e,t)=>{const i=t*.5;setTimeout(()=>{e.style.animation="float 6s ease-in-out infinite",e.style.opacity="1"},i*1e3)})}animateScrollIndicator(){if(!this.scrollIndicator)return;this.scrollIndicator.querySelectorAll(".arrow-line").forEach((i,s)=>{i.style.animation=`arrowLine${s+1} 2s infinite`});const t=this.scrollIndicator.querySelector(".scroll-text");t&&(t.style.animation="fadeInOut 2s infinite")}updateParallax(){if(!this.hero)return;const t=window.pageYOffset*-.5;this.hero.querySelectorAll(".hero-particles, .hero-constellations, .hero-stars").forEach(s=>{s.style.transform=`translateY(${t}px)`}),this.floatingElements.forEach((s,a)=>{const n=t*(.1+a*.05);s.style.transform=`translateY(${n}px)`})}updateResponsiveAnimations(){window.innerWidth<=768?this.heroContent?.style.setProperty("--animation-duration","0.6s"):this.heroContent?.style.setProperty("--animation-duration","0.8s")}scrollToNextSection(){const e=this.hero?.nextElementSibling;e&&e.scrollIntoView({behavior:"smooth",block:"start"})}initThreeJSAnimations(){try{this.heroThreeEngine=new pe,this.heroThreeEngine.init("hero-particles").then(e=>{e&&this.setupThemeIntegration()})}catch(e){console.warn("Three.js no está disponible para el hero:",e)}}initTextEffects(){this.textEffectsEngine=new fe,this.textEffectsEngine.init()}initButtonParticles(){this.buttonParticlesEngine=new ge,this.buttonParticlesEngine.init()}initBadgeParticles(){try{const e=this.hero.querySelector(".hero-badge");e&&(this.badgeParticlesEngine=new K(e))}catch(e){console.warn("❌ Error inicializando Badge Particles Engine:",e)}}initTechBadgesParticles(){try{this.techBadgesParticlesEngine=new Q}catch(e){console.warn("❌ Error inicializando Tech Badges Particles Engine:",e)}}setupThemeIntegration(){new MutationObserver(t=>{t.forEach(i=>{if(i.type==="attributes"&&i.attributeName==="data-theme"){const s=document.documentElement.getAttribute("data-theme");this.heroThreeEngine&&this.heroThreeEngine.updateTheme(s)}})}).observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]})}createHeroParticles(){const e=document.getElementById("hero-particles");if(e)for(let t=0;t<20;t++){const i=document.createElement("div");i.className="hero-particle",i.style.cssText=`
                position: absolute;
                width: 2px;
                height: 2px;
                background: rgba(100, 181, 246, 0.6);
                border-radius: 50%;
                left: ${Math.random()*100}%;
                top: ${Math.random()*100}%;
                animation: heroParticleFloat ${3+Math.random()*4}s ease-in-out infinite;
                animation-delay: ${Math.random()*2}s;
            `,e.appendChild(i)}}createHeroConstellations(){const e=document.getElementById("hero-constellations");if(e)for(let t=0;t<3;t++){const i=document.createElement("div");i.className="hero-constellation",i.style.cssText=`
                position: absolute;
                width: 100px;
                height: 100px;
                left: ${20+t*30}%;
                top: ${30+t*20}%;
                opacity: 0.3;
                animation: heroConstellationGlow ${4+t}s ease-in-out infinite;
            `,e.appendChild(i)}}createHeroStars(){const e=document.getElementById("hero-stars");if(e)for(let t=0;t<15;t++){const i=document.createElement("div");i.className="hero-star",i.style.cssText=`
                position: absolute;
                width: 1px;
                height: 1px;
                background: rgba(255, 255, 255, 0.8);
                border-radius: 50%;
                left: ${Math.random()*100}%;
                top: ${Math.random()*100}%;
                animation: heroStarTwinkle ${2+Math.random()*3}s ease-in-out infinite;
                animation-delay: ${Math.random()*2}s;
            `,e.appendChild(i)}}destroy(){this.observer&&this.observer.disconnect(),this.heroThreeEngine&&(this.heroThreeEngine.dispose(),this.heroThreeEngine=null),this.textEffectsEngine&&(this.textEffectsEngine.dispose(),this.textEffectsEngine=null),this.buttonParticlesEngine&&(this.buttonParticlesEngine.dispose(),this.buttonParticlesEngine=null),this.badgeParticlesEngine&&(this.badgeParticlesEngine.dispose(),this.badgeParticlesEngine=null),this.techBadgesParticlesEngine&&(this.techBadgesParticlesEngine.dispose(),this.techBadgesParticlesEngine=null),this.scrollIndicator&&this.scrollIndicator.removeEventListener("click",this.scrollToNextSection),this.hero=null,this.heroContent=null,this.techBadges=[],this.buttons=[],this.scrollIndicator=null,this.floatingElements=[]}}document.addEventListener("DOMContentLoaded",()=>{new Z});class V{constructor(){this.scene=null,this.camera=null,this.renderer=null,this.particles=null,this.constellations=null,this.avatarParticles=null,this.statsParticles=null,this.specialtyParticles=null,this.techParticles=null,this.valuesParticles=null,this.isActive=!1,this.animationId=null,this.mouse={x:0,y:0},this.theme="dark",this.contextLostCount=0,this.maxContextLostRetries=3,this.retryDelay=2e3,this.isRetrying=!1,this.performanceMode="high",this.frameCount=0,this.lastTime=0,this.fps=60,this.cssMode=!1,console.warn("⚠️ Three.js temporalmente deshabilitado por problemas de shader"),this.fallbackToCSS()}checkWebGLCompatibility(){try{const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");return t?t.getSupportedExtensions().includes("OES_standard_derivatives")?t.getParameter(t.MAX_TEXTURE_SIZE)<1024?(console.warn("⚠️ WebGL tiene límites muy bajos"),!1):t.isContextLost()?(console.warn("⚠️ WebGL context ya está perdido"),!1):!0:(console.warn("⚠️ WebGL no soporta extensiones necesarias"),!1):(console.warn("⚠️ WebGL no está disponible en este navegador"),!1)}catch(e){return console.warn("⚠️ Error verificando compatibilidad WebGL:",e),!1}}fallbackToCSS(){try{document.body.classList.add("webgl-fallback"),document.querySelectorAll(".about-threejs-containers, .about-particles, .about-constellations").forEach(i=>{i&&(i.style.display="none",i.style.visibility="hidden")}),document.querySelectorAll('[id*="particles"], [id*="constellations"]').forEach(i=>{i&&(i.style.display="none",i.style.visibility="hidden")}),this.activateCSSAnimations(),this.isActive=!1,this.cssMode=!0,ß}catch(e){console.warn("⚠️ Error activando modo CSS:",e),this.activateBasicCSS()}}activateBasicCSS(){try{document.querySelectorAll(".about-card, .stat-item, .specialty-inline-item, .tech-tag-compact, .value-inline-item").forEach((t,i)=>{t.style.animationDelay=`${i*.1}s`,t.classList.add("animate-fade-in-up")})}catch(e){console.warn("⚠️ Error activando animaciones CSS básicas:",e)}}activateCSSAnimations(){try{document.querySelectorAll(".about-card, .stat-item, .specialty-inline-item, .tech-tag-compact, .value-inline-item").forEach((t,i)=>{t.style.animationDelay=`${i*.1}s`,t.classList.add("animate-fade-in-up")}),this.activateCSSCounters(),this.activateSpecialCSSEffects()}catch(e){console.warn("⚠️ Error activando animaciones CSS:",e)}}activateSpecialCSSEffects(){const e=document.querySelector(".avatar-container");e&&e.classList.add("avatar-css-mode"),document.querySelectorAll(".stat-main-item").forEach((n,o)=>{n.classList.add("stat-css-mode"),n.style.animationDelay=`${o*.2}s`}),document.querySelectorAll(".specialty-inline-item").forEach((n,o)=>{n.classList.add("specialty-css-mode"),n.style.animationDelay=`${o*.15}s`}),document.querySelectorAll(".tech-tag-compact").forEach((n,o)=>{n.classList.add("tech-css-mode"),n.style.animationDelay=`${o*.1}s`}),document.querySelectorAll(".value-inline-item").forEach((n,o)=>{n.classList.add("value-css-mode"),n.style.animationDelay=`${o*.2}s`})}activateCSSCounters(){document.querySelectorAll(".stat-main-number").forEach((t,i)=>{setTimeout(()=>{t.style.animation="counterPulse 1s ease-out",t.style.color="var(--primary-color)",t.style.textShadow="0 0 20px rgba(100, 181, 246, 0.5)"},i*200)})}init(){try{if(!this.checkWebGLCompatibility()){console.warn("⚠️ WebGL no es compatible, usando modo CSS"),this.fallbackToCSS();return}this.setupThreeJS(),this.createParticleSystems(),this.createConstellationSystem(),this.createAvatarEffects(),this.createStatsEffects(),this.createSpecialtyEffects(),this.createTechEffects(),this.createValuesEffects(),this.setupEventListeners(),this.animate(),this.isActive=!0}catch(e){console.error("❌ Error inicializando About Three.js Engine:",e),this.fallbackToCSS()}}setupThreeJS(){try{this.scene=new z;const e=window.innerWidth/window.innerHeight;this.camera=new B(-e,e,1,-1,.1,1e3),this.camera.position.z=5;let t=[{alpha:!0,antialias:!1,powerPreference:"default",preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!1,stencil:!1,depth:!1},{alpha:!0,antialias:!1,powerPreference:"default",preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!1,stencil:!1,depth:!0},{alpha:!0,antialias:!0,powerPreference:"high-performance",preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!1,stencil:!1,depth:!0}],i=null,s=0;for(;!i&&s<t.length;)try{i=new k(t[s])}catch(n){console.warn(`⚠️ Configuración ${s+1} falló:`,n),s++}if(!i)throw new Error("No se pudo crear ningún renderer WebGL");this.renderer=i,this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(1),this.renderer.setClearColor(0,0),this.renderer.domElement.addEventListener("webglcontextlost",n=>{console.warn("⚠️ WebGL Context Lost - Reintentando..."),n.preventDefault(),this.handleContextLost()}),this.renderer.domElement.addEventListener("webglcontextrestored",()=>{this.handleContextRestored()});try{this.renderer.render(this.scene,this.camera)}catch(n){throw console.error("❌ Error en render inicial:",n),new Error("Renderer no funciona correctamente")}const a=document.getElementById("about-particles");a&&a.appendChild(this.renderer.domElement)}catch(e){throw console.error("❌ Error en setupThreeJS:",e),e}}createParticleSystems(){const t=new S,i=new Float32Array(600),s=new Float32Array(600),a=new Float32Array(200),n=new Float32Array(200);for(let r=0;r<200;r++){const c=r*3,h=r/200*Math.PI*4,d=.5+r/200*2;i[c]=Math.cos(h)*d,i[c+1]=Math.sin(h)*d,i[c+2]=r/200*4-2;const u=new v;this.theme==="dark"?u.setHSL(.6+Math.random()*.1,.8,.6+Math.random()*.4):u.setHSL(.1+Math.random()*.1,.6,.7+Math.random()*.3),s[c]=u.r,s[c+1]=u.g,s[c+2]=u.b,a[r]=.02+Math.random()*.03,n[r]=.001+Math.random()*.002}t.setAttribute("position",new f(i,3)),t.setAttribute("color",new f(s,3)),t.setAttribute("size",new f(a,3)),t.setAttribute("speed",new f(n,3));const o=new O({uniforms:{time:{value:0},theme:{value:this.theme==="dark"?0:1}},vertexShader:`
                attribute vec3 position;
                attribute vec3 color;
                attribute float size;
                attribute float speed;
                
                uniform mat4 modelViewMatrix;
                uniform mat4 projectionMatrix;
                
                varying float vOpacity;
                varying vec3 vColor;
                
                void main() {
                    vOpacity = 0.8;
                    vColor = color;
                    
                    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
                    gl_PointSize = size * (300.0 / -mvPosition.z);
                    gl_Position = projectionMatrix * mvPosition;
                }
            `,fragmentShader:`
                precision mediump float;
                uniform float time;
                varying float vOpacity;
                varying vec3 vColor;
                
                void main() {
                    float twinkle = 0.7 + 0.3 * sin(time * 2.0 + gl_PointCoord.x * 10.0);
                    float breathing = 0.8 + 0.2 * sin(time * 1.5);
                    float alpha = twinkle * breathing * vOpacity;
                    
                    gl_FragColor = vec4(vColor, alpha);
                }
            `,transparent:!0,depthWrite:!1,blending:I});this.particles=new L(t,o),this.scene.add(this.particles)}createConstellationSystem(){for(let i=0;i<6;i++){const s=new H,a=[];for(let n=0;n<4;n++){const o=new x(.02+Math.random()*.03,8,6),r=new T({color:this.theme==="dark"?6600182:5227511,transparent:!0,opacity:.8}),c=new C(o,r);c.position.set((Math.random()-.5)*3,(Math.random()-.5)*2,(Math.random()-.5)*2),s.add(c),a.push(c)}for(let n=0;n<a.length-1;n++)for(let o=n+1;o<a.length;o++)if(Math.random()>.5){const r=this.createConnection(a[n].position,a[o].position);s.add(r)}this.scene.add(s),this.constellations||(this.constellations=[]),this.constellations.push(s)}}createConnection(e,t){const i=[];i.push(e),i.push(t);const s=new S().setFromPoints(i),a=new R({color:this.theme==="dark"?6600182:5227511,transparent:!0,opacity:.3});return new $(s,a)}createAvatarEffects(){if(!document.getElementById("avatar-particles-container"))return;const t=new H;for(let i=0;i<30;i++){const s=this.createOrbitalParticle(i,30);t.add(s)}for(let i=0;i<20;i++){const s=this.createAuraParticle(i,20);t.add(s)}this.avatarParticles=t,this.scene.add(t),t.position.set(0,0,0)}createOrbitalParticle(e,t){const i=new x(.008+Math.random()*.012,6,4),s=new T({color:this.theme==="dark"?6600182:5227511,transparent:!0,opacity:.6+Math.random()*.4}),a=new C(i,s),n=e/t*Math.PI*2,o=.8+Math.random()*.4;return a.position.set(Math.cos(n)*o,Math.sin(n)*o*.5,(Math.random()-.5)*.3),a.userData={baseAngle:n,radius:o,speed:.5+Math.random()*.1,phase:Math.random()*Math.PI*2},a}createAuraParticle(e,t){const i=new x(.005+Math.random()*.008,4,3),s=new T({color:this.theme==="dark"?5227511:6600182,transparent:!0,opacity:.3+Math.random()*.3}),a=new C(i,s),n=e/t*Math.PI*2,o=1.2+Math.random()*.6;return a.position.set(Math.cos(n)*o,Math.sin(n)*o*.3,(Math.random()-.5)*.2),a.userData={baseAngle:n,radius:o,speed:.3+Math.random()*.7,phase:Math.random()*Math.PI*2,pulseSpeed:1+Math.random()*2},a}createStatsEffects(){const e=document.getElementById("stat-main-exp-particles");e&&(this.statsParticles=this.createParticleContainer(e,30,.6))}createSpecialtyEffects(){document.querySelectorAll(".specialty-inline-item").forEach((t,i)=>{const s=document.createElement("div");s.className="specialty-particles-container",s.style.cssText=`
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 100px;
                height: 100px;
                pointer-events: none;
                z-index: 1;
            `,t.style.position="relative",t.appendChild(s),setTimeout(()=>{this.createParticleContainer(s,20,.5)},i*200)})}createTechEffects(){document.querySelectorAll(".tech-tag-compact").forEach((t,i)=>{t.style.position="relative",setTimeout(()=>{const s=document.createElement("div");s.className="tech-particles-container",s.style.cssText=`
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    width: 80px;
                    height: 80px;
                    pointer-events: none;
                    z-index: 1;
                `,t.appendChild(s),this.createParticleContainer(s,15,.4)},i*100)})}createValuesEffects(){document.querySelectorAll(".value-inline-item").forEach((t,i)=>{const s=document.createElement("div");s.className="value-particles-container",s.style.cssText=`
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 120px;
                height: 120px;
                pointer-events: none;
                z-index: 1;
            `,t.style.position="relative",t.appendChild(s),setTimeout(()=>{this.createParticleContainer(s,25,.6)},i*300)})}createParticleContainer(e,t,i){const s=new z,a=new B(-1,1,1,-1,.1,1e3),n=new k({alpha:!0,antialias:!0});n.setSize(100,100),n.setClearColor(0,0),e.appendChild(n.domElement);const o=new S,r=new Float32Array(t*3),c=new Float32Array(t*3);for(let g=0;g<t;g++){const b=g*3;r[b]=(Math.random()-.5)*2,r[b+1]=(Math.random()-.5)*2,r[b+2]=0;const M=new v;M.setHSL(.6+Math.random()*.1,.8,.6+Math.random()*.4),c[b]=M.r,c[b+1]=M.g,c[b+2]=M.b}o.setAttribute("position",new f(r,3)),o.setAttribute("color",new f(c,3));const h=new U({color:6600182,size:.03,transparent:!0,opacity:i,blending:I}),d=new L(o,h);s.add(d);const u=()=>{d.rotation.z+=.01,d.position.x=Math.sin(Date.now()*.001)*.1,d.position.y=Math.cos(Date.now()*.001)*.1,n.render(s,a),requestAnimationFrame(u)};return u(),{scene:s,camera:a,renderer:n,particles:d,animate:u}}setupEventListeners(){window.addEventListener("mousemove",t=>{this.mouse.x=t.clientX/window.innerWidth*2-1,this.mouse.y=-(t.clientY/window.innerHeight)*2+1}),window.addEventListener("resize",()=>{this.handleResize()});const e=document.querySelector(".theme-toggle");e&&e.addEventListener("click",()=>{this.updateTheme()})}handleResize(){if(this.camera&&this.renderer){const e=window.innerWidth/window.innerHeight;this.camera.left=-e,this.camera.right=e,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}}updateTheme(){this.theme=document.documentElement.getAttribute("data-theme")||"dark",this.particles&&this.particles.material&&(this.particles.material.uniforms.theme.value=this.theme==="dark"?0:1),this.constellations&&this.constellations.forEach(e=>{e.children.forEach(t=>{t.material&&t.material.color.setHex(this.theme==="dark"?6600182:5227511)})})}activateHoverEffect(e,t){try{switch(t){case"specialty":this.activateSpecialtyHover(e);break;case"tech":this.activateTechHover(e);break;case"value":this.activateValueHover(e);break}}catch(i){console.warn("⚠️ Error activando hover effect:",i)}}deactivateHoverEffect(e,t){try{switch(t){case"specialty":this.deactivateSpecialtyHover(e);break;case"tech":this.deactivateTechHover(e);break;case"value":this.deactivateValueHover(e);break}}catch(i){console.warn("⚠️ Error desactivando hover effect:",i)}}activateSpecialtyHover(e){const t=e.querySelector(".specialty-particles-container");t&&(t.style.opacity="1",t.style.transform="translate(-50%, -50%) scale(1.2)")}deactivateSpecialtyHover(e){const t=e.querySelector(".specialty-particles-container");t&&(t.style.opacity="0.5",t.style.transform="translate(-50%, -50%) scale(1)")}activateTechHover(e){const t=e.querySelector(".tech-particles-container");t&&(t.style.opacity="1",t.style.transform="translate(-50%, -50%) scale(1.3)")}deactivateTechHover(e){const t=e.querySelector(".tech-particles-container");t&&(t.style.opacity="0.5",t.style.transform="translate(-50%, -50%) scale(1)")}activateValueHover(e){const t=e.querySelector(".value-particles-container");t&&(t.style.opacity="1",t.style.transform="translate(-50%, -50%) scale(1.1)")}deactivateValueHover(e){const t=e.querySelector(".value-particles-container");t&&(t.style.opacity="0.5",t.style.transform="translate(-50%, -50%) scale(1)")}handleContextLost(){this.isActive=!1,this.contextLostCount++,this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null),this.renderer&&this.renderer.dispose(),console.warn(`⚠️ WebGL Context Lost (${this.contextLostCount}/${this.maxContextLostRetries}) - Recursos limpiados`),this.contextLostCount<=this.maxContextLostRetries&&!this.isRetrying?this.scheduleRetry():this.contextLostCount>this.maxContextLostRetries&&(console.error("❌ Demasiados context lost, cambiando a modo CSS"),this.fallbackToCSS())}scheduleRetry(){if(this.isRetrying)return;this.isRetrying=!0;const e=this.retryDelay*this.contextLostCount;setTimeout(()=>{this.isRetrying=!1,this.attemptRecovery()},e)}attemptRecovery(){try{if(!this.checkWebGLCompatibility()){console.warn("⚠️ WebGL ya no es compatible, usando CSS"),this.fallbackToCSS();return}this.setupThreeJS(),this.createParticleSystems(),this.createConstellationSystem(),this.createAvatarEffects(),this.createStatsEffects(),this.createSpecialtyEffects(),this.createTechEffects(),this.createValuesEffects(),this.isActive=!0,this.animate(),this.contextLostCount=0}catch(e){console.error("❌ Error en recuperación:",e),this.contextLostCount++,this.contextLostCount<=this.maxContextLostRetries?this.scheduleRetry():(console.error("❌ Fallo en recuperación, usando CSS"),this.fallbackToCSS())}}handleContextRestored(){try{this.setupThreeJS(),this.createParticleSystems(),this.createConstellationSystem(),this.isActive=!0,this.animate()}catch(e){console.error("❌ Error restaurando WebGL Context:",e)}}animate(){if(this.isActive)try{this.animationId=requestAnimationFrame(()=>this.animate());const e=Date.now(),t=e-this.lastTime;this.lastTime=e,this.frameCount++,this.frameCount%60===0&&(this.fps=Math.round(1e3/t),this.fps<30&&this.performanceMode==="high"?this.setPerformanceMode("medium"):this.fps>55&&this.performanceMode==="medium"&&this.setPerformanceMode("high"));const i=e*.001;this.particles&&this.particles.material&&(this.particles.material.uniforms.time.value=i,this.particles.rotation.z+=.001,this.particles.scale.setScalar(1+Math.sin(i*.5)*.05)),this.constellations&&this.constellations.forEach((s,a)=>{s.rotation.z+=.002*(a+1),s.position.x=Math.sin(i*.3+a)*.1,s.position.y=Math.cos(i*.3+a)*.1}),this.particles&&(this.particles.position.x=this.mouse.x*.1,this.particles.position.y=this.mouse.y*.1),this.avatarParticles&&this.avatarParticles.children.forEach((s,a)=>{if(s.userData.baseAngle!==void 0){const n=s.userData.baseAngle+i*s.userData.speed;s.position.x=Math.cos(n)*s.userData.radius,s.position.y=Math.sin(n)*s.userData.radius*.5;const o=1+Math.sin(i*s.userData.pulseSpeed)*.2;s.scale.setScalar(o),s.rotation.z+=.01}}),this.renderer&&this.scene&&this.camera&&this.renderer.render(this.scene,this.camera)}catch(e){console.error("❌ Error en animate:",e),this.isActive=!1,setTimeout(()=>{this.handleContextLost()},1e3)}}setPerformanceMode(e){switch(this.performanceMode=e,e){case"high":this.renderer&&this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2));break;case"medium":this.renderer&&this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,1.5));break;case"low":this.renderer&&this.renderer.setPixelRatio(1);break}}dispose(){try{this.isActive=!1,this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null),this.particles&&(this.particles.geometry&&this.particles.geometry.dispose(),this.particles.material&&this.particles.material.dispose(),this.particles=null),this.constellations&&(this.constellations.forEach(e=>{e.children.forEach(t=>{t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()}),e.clear()}),this.constellations=null),this.renderer&&(this.renderer.dispose(),this.renderer=null),this.scene&&(this.scene.clear(),this.scene=null),this.camera&&(this.camera=null),this.contextLostCount=0,this.isRetrying=!1}catch(e){console.error("❌ Error limpiando About Three.js Engine:",e)}}}class ve{constructor(){this.aboutSection=null,this.aboutThreeEngine=null,this.observer=null,this.isInitialized=!1,this.init()}init(){try{this.setupIntersectionObserver(),this.setupScrollAnimations(),this.setupHoverEffects()}catch(e){console.error("❌ Error inicializando About Animations:",e)}}setupIntersectionObserver(){this.observer=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting?this.onAboutVisible(t.target):this.onAboutHidden(t.target)})},{threshold:.3,rootMargin:"0px 0px -100px 0px"}),this.aboutSection=document.getElementById("about"),this.aboutSection&&this.observer.observe(this.aboutSection)}onAboutVisible(e){this.isInitialized||(this.isInitialized=!0,this.initThreeJSAnimations(),this.activateCSSAnimations(),this.initParticleEffects())}onAboutHidden(e){this.aboutThreeEngine&&(this.aboutThreeEngine.dispose(),this.aboutThreeEngine=null),this.isInitialized=!1}initThreeJSAnimations(){try{if(typeof V>"u"){console.warn("⚠️ AboutThreeEngine no está disponible, usando animaciones CSS alternativas");return}this.aboutThreeEngine=new V}catch(e){console.error("❌ Error inicializando About Three.js Engine:",e)}}activateCSSAnimations(){this.aboutSection.querySelectorAll(".animate-fade-in-up").forEach((t,i)=>{const s=parseFloat(t.getAttribute("data-delay"))||0;setTimeout(()=>{t.style.opacity="1",t.style.transform="translateY(0)"},s*1e3)})}initParticleEffects(){this.initAvatarParticles(),this.initStatsParticles(),this.initSpecialtyParticles(),this.initTechParticles(),this.initValuesParticles(),this.initCounterAnimations(),this.initIconAnimations()}initIconAnimations(){document.querySelectorAll(".specialty-icon-inline").forEach((a,n)=>{a.style.animationDelay=`${n*.2}s`,a.classList.add("icon-float")}),document.querySelectorAll(".tech-icon").forEach((a,n)=>{a.style.animationDelay=`${n*.1}s`,a.classList.add("icon-pulse")}),document.querySelectorAll(".value-icon-inline").forEach((a,n)=>{a.style.animationDelay=`${n*.15}s`,a.classList.add("icon-rotate")});const s=document.querySelector(".avatar-icon");s&&s.classList.add("avatar-icon-float")}initAvatarParticles(){const e=document.querySelector(".avatar-container");e&&this.createFloatingParticles(e,30,{color:"var(--primary-color)",size:"2px",duration:"8s"})}initStatsParticles(){document.querySelectorAll(".stat-main-item").forEach((t,i)=>{this.createRisingParticles(t,20,{color:"var(--accent-color)",size:"1px",duration:"6s",delay:i*200})})}initSpecialtyParticles(){document.querySelectorAll(".specialty-inline-item").forEach((t,i)=>{this.createOrbitalParticles(t,15,{color:"var(--primary-color)",size:"1.5px",duration:"10s",delay:i*300})})}initTechParticles(){document.querySelectorAll(".tech-tag-compact").forEach((t,i)=>{this.createExpandingParticles(t,12,{color:"var(--accent-color)",size:"1px",duration:"5s",delay:i*100})})}initValuesParticles(){document.querySelectorAll(".value-inline-item").forEach((t,i)=>{this.createSpiralParticles(t,18,{color:"var(--primary-color)",size:"1.5px",duration:"12s",delay:i*400})})}createFloatingParticles(e,t,i){const s=document.createElement("div");s.className="floating-particles",s.style.cssText=`
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        `,e.style.position="relative",e.appendChild(s);for(let a=0;a<t;a++)this.createParticle(s,i,a)}createRisingParticles(e,t,i){const s=document.createElement("div");s.className="rising-particles",s.style.cssText=`
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        `,e.style.position="relative",e.appendChild(s);for(let a=0;a<t;a++)this.createRisingParticle(s,i,a)}createOrbitalParticles(e,t,i){const s=document.createElement("div");s.className="orbital-particles",s.style.cssText=`
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        `,e.style.position="relative",e.appendChild(s);for(let a=0;a<t;a++)this.createOrbitalParticle(s,i,a)}createExpandingParticles(e,t,i){const s=document.createElement("div");s.className="expanding-particles",s.style.cssText=`
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        `,e.style.position="relative",e.appendChild(s);for(let a=0;a<t;a++)this.createExpandingParticle(s,i,a)}createSpiralParticles(e,t,i){const s=document.createElement("div");s.className="spiral-particles",s.style.cssText=`
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        `,e.style.position="relative",e.appendChild(s);for(let a=0;a<t;a++)this.createSpiralParticle(s,i,a)}createParticle(e,t,i){const s=document.createElement("div");s.className="particle";const a=i/t.count*Math.PI*2,n=60+Math.random()*40,o=Math.random()*t.duration;s.style.cssText=`
            position: absolute;
            width: ${t.size};
            height: ${t.size};
            background: ${t.color};
            border-radius: 50%;
            top: calc(50% + ${Math.sin(a)*n}px);
            left: calc(50% + ${Math.cos(a)*n}px);
            opacity: 0;
            animation: floatingParticle ${t.duration}s ease-in-out infinite;
            animation-delay: ${o}s;
        `,e.appendChild(s)}createRisingParticle(e,t,i){const s=document.createElement("div");s.className="particle";const a=t.delay+i*50;s.style.cssText=`
            position: absolute;
            width: ${t.size};
            height: ${t.size};
            background: ${t.color};
            border-radius: 50%;
            top: 50%;
            left: 50%;
            opacity: 0;
            animation: risingParticle ${t.duration}s ease-out infinite;
            animation-delay: ${a}ms;
        `,e.appendChild(s)}createOrbitalParticle(e,t,i){const s=document.createElement("div");s.className="particle";const a=i/t.count*Math.PI*2,n=40+Math.random()*20,o=t.delay+i*100;s.style.cssText=`
            position: absolute;
            width: ${t.size};
            height: ${t.size};
            background: ${t.color};
            border-radius: 50%;
            top: calc(50% + ${Math.sin(a)*n}px);
            left: calc(50% + ${Math.cos(a)*n}px);
            opacity: 0;
            animation: orbitalParticle ${t.duration}s linear infinite;
            animation-delay: ${o}ms;
        `,e.appendChild(s)}createExpandingParticle(e,t,i){const s=document.createElement("div");s.className="particle",i/t.count*Math.PI*2;const a=t.delay+i*80;s.style.cssText=`
            position: absolute;
            width: ${t.size};
            height: ${t.size};
            background: ${t.color};
            border-radius: 50%;
            top: 50%;
            left: 50%;
            opacity: 0;
            animation: expandingParticle ${t.duration}s ease-out infinite;
            animation-delay: ${a}ms;
        `,e.appendChild(s)}createSpiralParticle(e,t,i){const s=document.createElement("div");s.className="particle";const a=t.delay+i*200;s.style.cssText=`
            position: absolute;
            width: ${t.size};
            height: ${t.size};
            background: ${t.color};
            border-radius: 50%;
            top: 50%;
            left: 50%;
            opacity: 0;
            animation: spiralParticle ${t.duration}s ease-in-out infinite;
            animation-delay: ${a}ms;
        `,e.appendChild(s)}setupScrollAnimations(){window.addEventListener("scroll",()=>{if(!this.aboutSection||!this.isInitialized)return;const e=this.aboutSection.getBoundingClientRect(),t=(window.innerHeight-e.top)/(window.innerHeight+e.height);t>0&&t<1&&this.updateScrollEffects(t)})}initCounterAnimations(){document.querySelectorAll(".stat-main-number").forEach(t=>{parseInt(t.textContent);const i=t.textContent.replace(/\d/g,""),s=parseInt(t.textContent.replace(/\D/g,""));t.textContent="0"+i;const a=new IntersectionObserver(n=>{n.forEach(o=>{o.isIntersecting&&(this.animateCounter(t,0,s,i),a.unobserve(o.target))})},{threshold:.5});a.observe(t)})}animateCounter(e,t,i,s){const n=performance.now(),o=r=>{const c=r-n,h=Math.min(c/2e3,1),d=1-Math.pow(1-h,4),u=Math.floor(t+(i-t)*d);e.textContent=u+s,e.style.transform=`scale(${1+h*.1})`,e.style.color=`hsl(${200+h*60}, 70%, ${60+h*20}%)`,h<1?requestAnimationFrame(o):(e.style.transform="scale(1)",e.style.color="",this.createCelebrationEffect(e))};requestAnimationFrame(o)}createCelebrationEffect(e){const t=e.parentElement,i=document.createElement("div");i.className="celebration-particles",i.style.cssText=`
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 10;
        `,t.style.position="relative",t.appendChild(i);for(let s=0;s<8;s++){const a=document.createElement("div");a.className="celebration-particle",a.style.cssText=`
                position: absolute;
            width: 6px;
            height: 6px;
            background: linear-gradient(45deg, #64B5F6, #4FC3F7);
            border-radius: 50%;
            animation: celebrationParticle 1.5s ease-out forwards;
            animation-delay: ${s*.1}s;
        `,i.appendChild(a)}setTimeout(()=>{i.remove()},2e3)}updateScrollEffects(e){const t=document.querySelector(".avatar-container");if(t){const s=e*20;t.style.transform=`translateY(${s}px)`}document.querySelectorAll(".stat-main-item").forEach((s,a)=>{const n=Math.max(.3,1-e*.5);s.style.opacity=n})}setupHoverEffects(){document.querySelectorAll(".specialty-inline-item").forEach(s=>{s.addEventListener("mouseenter",()=>{this.activateHoverEffect(s,"specialty")}),s.addEventListener("mouseleave",()=>{this.deactivateHoverEffect(s,"specialty")})}),document.querySelectorAll(".tech-tag-compact").forEach(s=>{s.addEventListener("mouseenter",()=>{this.activateHoverEffect(s,"tech")}),s.addEventListener("mouseleave",()=>{this.deactivateHoverEffect(s,"tech")})}),document.querySelectorAll(".value-inline-item").forEach(s=>{s.addEventListener("mouseenter",()=>{this.activateHoverEffect(s,"value")}),s.addEventListener("mouseleave",()=>{this.deactivateHoverEffect(s,"value")})})}activateHoverEffect(e,t){switch(t){case"specialty":e.style.transform="translateY(-8px) scale(1.05)",e.style.boxShadow="0 20px 40px rgba(100, 181, 246, 0.15)";break;case"tech":e.style.transform="translateY(-5px) scale(1.1)",e.style.boxShadow="0 15px 30px rgba(100, 181, 246, 0.2)";break;case"value":e.style.transform="translateY(-6px) scale(1.03)",e.style.boxShadow="0 18px 35px rgba(100, 181, 246, 0.18)";break}if(this.aboutThreeEngine&&typeof this.aboutThreeEngine.activateHoverEffect=="function")try{this.aboutThreeEngine.activateHoverEffect(e,t)}catch(i){console.warn("⚠️ Error activando hover effect en Three.js:",i)}}deactivateHoverEffect(e,t){if(e.style.transform="translateY(0) scale(1)",e.style.boxShadow="none",this.aboutThreeEngine&&typeof this.aboutThreeEngine.deactivateHoverEffect=="function")try{this.aboutThreeEngine.deactivateHoverEffect(e,t)}catch(i){console.warn("⚠️ Error desactivando hover effect en Three.js:",i)}}destroy(){this.observer&&this.observer.disconnect(),this.aboutThreeEngine&&this.aboutThreeEngine.dispose()}}class be{constructor(){this.isInitialized=!1,this.modules=new Map,this.eventListeners=new Map,this.visualEngine=null,this.deviceDetector=null,this.mobileMenuManager=null,this.heroAnimations=null,this.aboutAnimations=null}async init(){try{await this.initializeBasicModules(),this.setupBasicFeatures(),await this.initializeAdvancedModules(),this.setupGlobalEvents(),this.isInitialized=!0,m.info("✅ Portfolio completamente inicializado")}catch(e){console.error("❌ Error inicializando portfolio:",e)}}validateConfiguration(){m.info(`📋 Configuración validada: ${E.APP_NAME} v${E.VERSION}`)}async initializeBasicModules(){m.info("🔧 Inicializando módulos básicos..."),await this.loadPageComponents(),this.deviceDetector=new me,m.info("📱 DeviceDetector inicializado"),this.mobileMenuManager=new ue,m.info("📱 MobileMenuManager inicializado"),this.heroAnimations=new Z,m.info("🎭 HeroAnimations inicializado"),this.aboutAnimations=new ve,m.info("🎭 AboutAnimations inicializado"),await this.simulateModuleLoad("StyleManager"),await this.simulateModuleLoad("LanguageSystem"),await this.simulateModuleLoad("ThemeManager")}async initializeAdvancedModules(){m.info("🌟 Inicializando módulos avanzados...");try{this.visualEngine=new oe,m.info("✅ Motor de efectos visuales inicializado");const e=localStorage.getItem("theme")||E.THEMES.DEFAULT;this.visualEngine.updateTheme(e)}catch(e){m.error("❌ Error inicializando motor visual:",e)}await this.simulateModuleLoad("UIActionsEngine"),await this.simulateModuleLoad("NotificationSystem"),await this.simulateModuleLoad("InteractiveParticlesSystem"),await this.simulateModuleLoad("ScrollEffectsEngine")}async loadPageComponents(){try{m.info("📄 Cargando componentes de la página...");const e=he(),t=ce(),i=le();if(e.strategy==="sequential")for(const s of t)await _.loadComponent(s.name,s.target,s.data),await this.delay(e.delay);i.length>0&&await _.loadComponents(i)}catch(e){console.error("❌ Error cargando componentes:",e)}}delay(e){return new Promise(t=>setTimeout(t,e))}async simulateModuleLoad(e){return new Promise(t=>{setTimeout(()=>{this.modules.set(e,{name:e,loaded:!0}),m.info(`📦 Módulo ${e} cargado`),t()},100)})}setupBasicFeatures(){m.info("⚙️ Configurando funcionalidades básicas..."),this.setupThemeToggle(),this.setupMobileMenu(),this.setupSmoothScrolling(),this.setupLanguageToggle(),this.setupMobileOptimizations(),this.setupTouchInteractions(),this.setupDynamicLogging()}setupDynamicLogging(){}setupThemeToggle(){const e=p.select("#theme-toggle");if(!e){m.warn("⚠️ Toggle de tema no encontrado");return}const t=localStorage.getItem("theme")||E.THEMES.DEFAULT;document.documentElement.setAttribute("data-theme",t),this.updateThemeIcon(t),y.on(e,"click",()=>{const i=document.documentElement.getAttribute("data-theme")==="light"?"dark":"light";document.documentElement.setAttribute("data-theme",i),localStorage.setItem("theme",i),this.updateThemeIcon(i),this.visualEngine&&this.visualEngine.updateTheme(i),y.trigger(window,"themeChanged",{theme:i}),m.info(`🎨 Tema cambiado a ${i}`)}),m.info("🎨 Toggle de tema configurado")}updateThemeIcon(e){const t=p.select("#theme-toggle i");t&&(t.className=e==="light"?"fas fa-moon":"fas fa-sun")}setupMobileMenu(){const e=p.select("#menu-toggle"),t=p.select(".nav-links");if(!e||!t){m.warn("⚠️ Elementos del menú móvil no encontrados");return}e.querySelector("i")&&(e.innerHTML=`
                <span></span>
                <span></span>
                <span></span>
            `),y.on(e,"click",()=>{p.toggleClass(t,"active"),p.toggleClass(e,"active"),document.body.style.overflow=t.classList.contains("active")?"hidden":""}),p.selectAll(".nav-link").forEach(i=>{y.on(i,"click",()=>{p.removeClasses(t,"active"),p.removeClasses(e,"active"),document.body.style.overflow=""})}),y.on(document,"click",i=>{!e.contains(i.target)&&!t.contains(i.target)&&(p.removeClasses(t,"active"),p.removeClasses(e,"active"),document.body.style.overflow="")}),y.on(window,"resize",j.throttle(()=>{window.innerWidth>E.BREAKPOINTS.MOBILE&&(p.removeClasses(t,"active"),p.removeClasses(e,"active"),document.body.style.overflow="")},100)),m.info("📱 Menú móvil configurado")}setupSmoothScrolling(){p.selectAll('a[href^="#"]').forEach(e=>{y.on(e,"click",t=>{t.preventDefault();const i=p.select(e.getAttribute("href"));if(i){i.scrollIntoView({behavior:"smooth",block:"start"});const s=e.textContent.trim();m.info(`📍 Navegando a ${s}`)}})}),m.info("📍 Scroll suave configurado")}setupLanguageToggle(){const e=p.select("#language-toggle");if(!e){m.warn("⚠️ Toggle de idioma no encontrado");return}const t=localStorage.getItem("language")||E.LANGUAGES.DEFAULT;this.setLanguage(t),y.on(e,"click",()=>{const i=this.getCurrentLanguage()==="en"?"es":"en";this.setLanguage(i),m.info(`🌍 Idioma cambiado a ${i}`)}),m.info("🌍 Toggle de idioma configurado")}getCurrentLanguage(){return localStorage.getItem("language")||E.LANGUAGES.DEFAULT}setLanguage(e){localStorage.setItem("language",e),document.documentElement.setAttribute("data-language",e),y.trigger(window,"languageChanged",{language:e})}setupMobileOptimizations(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(p.addClasses(document.body,"mobile-device"),m.info("📱 Dispositivo móvil detectado, aplicando optimizaciones")),window.innerWidth<=E.BREAKPOINTS.TABLET&&window.innerWidth>E.BREAKPOINTS.MOBILE&&(p.addClasses(document.body,"tablet-device"),m.info("📱 Tablet detectada, aplicando optimizaciones"))}setupTouchInteractions(){p.selectAll(".btn, .tech-badge, .nav-link, .card").forEach(t=>{y.on(t,"touchstart",()=>{t.style.transform="scale(0.95)"}),y.on(t,"touchend",()=>{t.style.transform=""}),y.on(t,"touchcancel",()=>{t.style.transform=""})}),m.info("👆 Interacciones táctiles configuradas")}setupGlobalEvents(){let e;y.on(window,"scroll",()=>{clearTimeout(e),e=setTimeout(()=>{this.optimizeAfterScroll()},100)}),y.on(document,"visibilitychange",()=>{document.hidden?this.pauseAnimations():this.resumeAnimations()}),y.on(window,"resize",j.throttle(()=>{this.handleResize()},100)),y.on(document,"keydown",t=>{this.handleKeyboardEvents(t)}),m.info("🌐 Eventos globales configurados")}optimizeAfterScroll(){m.debug("📜 Optimizando después del scroll")}pauseAnimations(){m.debug("⏸️ Pausando animaciones")}resumeAnimations(){m.debug("▶️ Reanudando animaciones")}handleResize(){m.debug("📐 Ventana redimensionada")}handleKeyboardEvents(e){if(e.key==="Escape"){const t=p.select(".nav-links"),i=p.select("#menu-toggle");t&&t.classList.contains("active")&&(p.removeClasses(t,"active"),p.removeClasses(i,"active"))}e.key==="t"&&e.ctrlKey&&(e.preventDefault(),p.select("#theme-toggle")?.click())}showFallbackMessage(){const e="⚠️ Algunos efectos visuales no están disponibles";m.warn(e);const t=p.create("div",{className:"fallback-notification",textContent:e});p.addClasses(t,"error"),document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.remove()},5e3)}getModule(e){return this.modules.get(e)}isReady(){return this.isInitialized}}document.addEventListener("DOMContentLoaded",async()=>{try{const l=new be;await l.init(),window.portfolio=l}catch(l){console.error("❌ Error fatal inicializando portfolio:",l)}});
