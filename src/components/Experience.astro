---
// Experience section - Timeline de experiencia laboral con animaciones mejoradas
---

<section id="experience" class="experience section section-bg">
    <div class="experience-background">
        <div class="experience-pattern"></div>
        <!-- Floating particles -->
        <div class="experience-particles">
            <div class="exp-particle" style="--delay: 0s; --x: 10%; --y: 20%;"></div>
            <div class="exp-particle" style="--delay: 1s; --x: 85%; --y: 30%;"></div>
            <div class="exp-particle" style="--delay: 2s; --x: 20%; --y: 70%;"></div>
            <div class="exp-particle" style="--delay: 3s; --x: 75%; --y: 80%;"></div>
            <div class="exp-particle" style="--delay: 0.5s; --x: 50%; --y: 15%;"></div>
        </div>
    </div>

    <div class="container">
        <div class="section-header">
            <div class="section-badge exp-animate" data-anim-delay="0">
                <i class="fas fa-briefcase"></i>
                <span>My Journey</span>
            </div>
            <h2 class="section-title exp-animate gradient-text-animated" data-anim-delay="100">Professional Experience</h2>
            <p class="section-subtitle exp-animate" data-anim-delay="200">A journey through my backend development career</p>
        </div>

        <div class="experience-timeline">
            <div class="timeline-line">
                <div class="timeline-progress"></div>
            </div>

            <!-- Experience 1 - TCS (Current) -->
            <div class="experience-item exp-animate" data-anim-delay="300">
                <div class="experience-marker">
                    <div class="marker-dot">
                        <div class="marker-ring"></div>
                        <div class="marker-ring delay-1"></div>
                        <div class="marker-ring delay-2"></div>
                    </div>
                </div>
                <div class="experience-content glass-card">
                    <div class="experience-header">
                        <div class="experience-date">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Jun 2025 - Present</span>
                            <div class="date-badge current">Current</div>
                        </div>
                        <div class="experience-company">
                            <div class="company-logo">
                                <i class="fas fa-building"></i>
                            </div>
                            <span>Tata Consultancy Services</span>
                        </div>
                    </div>
                    <h3 class="experience-title">IT Analyst</h3>
                    <p class="experience-description">Development of enterprise solutions and microservices with Spring Boot and Quarkus. Implementation of cloud-native architectures and performance optimization for large-scale systems.</p>
                    <div class="experience-achievements">
                        <div class="achievement">
                            <i class="fas fa-check-circle"></i>
                            <span>Enterprise-level solutions</span>
                        </div>
                        <div class="achievement">
                            <i class="fas fa-check-circle"></i>
                            <span>Cloud-native architecture</span>
                        </div>
                    </div>
                    <div class="experience-tech">
                        <span class="tech-tag shimmer">Spring Boot</span>
                        <span class="tech-tag shimmer">Quarkus</span>
                        <span class="tech-tag shimmer">Microservices</span>
                        <span class="tech-tag shimmer">Cloud Native</span>
                    </div>
                </div>
            </div>

            <!-- Experience 2 - Intercorp Retail -->
            <div class="experience-item exp-animate" data-anim-delay="400">
                <div class="experience-marker">
                    <div class="marker-dot">
                        <div class="marker-ring"></div>
                        <div class="marker-ring delay-1"></div>
                    </div>
                </div>
                <div class="experience-content glass-card">
                    <div class="experience-header">
                        <div class="experience-date">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Apr 2024 - Jun 2025</span>
                        </div>
                        <div class="experience-company">
                            <div class="company-logo">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                            <span>Intercorp Retail</span>
                        </div>
                    </div>
                    <h3 class="experience-title">Full-stack Developer</h3>
                    <p class="experience-description">Development of retail solutions integrating frontend and backend technologies. Building scalable applications for one of Peru's largest retail groups.</p>
                    <div class="experience-achievements">
                        <div class="achievement">
                            <i class="fas fa-check-circle"></i>
                            <span>Full-stack development</span>
                        </div>
                        <div class="achievement">
                            <i class="fas fa-check-circle"></i>
                            <span>Retail systems integration</span>
                        </div>
                    </div>
                    <div class="experience-tech">
                        <span class="tech-tag shimmer">Java</span>
                        <span class="tech-tag shimmer">SQL</span>
                        <span class="tech-tag shimmer">Spring Boot</span>
                        <span class="tech-tag shimmer">REST APIs</span>
                    </div>
                </div>
            </div>

            <!-- Experience 3 - Baufest -->
            <div class="experience-item exp-animate" data-anim-delay="500">
                <div class="experience-marker">
                    <div class="marker-dot">
                        <div class="marker-ring"></div>
                        <div class="marker-ring delay-1"></div>
                    </div>
                </div>
                <div class="experience-content glass-card">
                    <div class="experience-header">
                        <div class="experience-date">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Mar 2022 - Feb 2024</span>
                        </div>
                        <div class="experience-company">
                            <div class="company-logo">
                                <i class="fas fa-code"></i>
                            </div>
                            <span>Baufest</span>
                        </div>
                    </div>
                    <h3 class="experience-title">Java Developer</h3>
                    <p class="experience-description">Development of microservices and RESTful APIs. Database integration and storage systems. Implementation of security mechanisms and authentication. Dashboard development for logs observability using New Relic.</p>
                    <div class="experience-achievements">
                        <div class="achievement">
                            <i class="fas fa-check-circle"></i>
                            <span>Microservices architecture</span>
                        </div>
                        <div class="achievement">
                            <i class="fas fa-check-circle"></i>
                            <span>Observability dashboards</span>
                        </div>
                        <div class="achievement">
                            <i class="fas fa-check-circle"></i>
                            <span>Security implementation</span>
                        </div>
                    </div>
                    <div class="experience-tech">
                        <span class="tech-tag shimmer">Java</span>
                        <span class="tech-tag shimmer">Microservices</span>
                        <span class="tech-tag shimmer">New Relic</span>
                        <span class="tech-tag shimmer">Docker</span>
                        <span class="tech-tag shimmer">SQL Server</span>
                    </div>
                </div>
            </div>

            <!-- Experience 4 - SYSARP -->
            <div class="experience-item exp-animate" data-anim-delay="600">
                <div class="experience-marker">
                    <div class="marker-dot">
                        <div class="marker-ring"></div>
                    </div>
                </div>
                <div class="experience-content glass-card">
                    <div class="experience-header">
                        <div class="experience-date">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Jan 2021 - Sep 2022</span>
                        </div>
                        <div class="experience-company">
                            <div class="company-logo">
                                <i class="fas fa-laptop-code"></i>
                            </div>
                            <span>SYSARP</span>
                        </div>
                    </div>
                    <h3 class="experience-title">Frontend Web Developer</h3>
                    <p class="experience-description">Design and development of intuitive, attractive and user-friendly web applications. Creating clean and well-structured code. Optimizing load speed and performance, ensuring compatibility across browsers and devices.</p>
                    <div class="experience-achievements">
                        <div class="achievement">
                            <i class="fas fa-check-circle"></i>
                            <span>Web application development</span>
                        </div>
                        <div class="achievement">
                            <i class="fas fa-check-circle"></i>
                            <span>Performance optimization</span>
                        </div>
                    </div>
                    <div class="experience-tech">
                        <span class="tech-tag shimmer">JavaScript</span>
                        <span class="tech-tag shimmer">Java</span>
                        <span class="tech-tag shimmer">HTML/CSS</span>
                        <span class="tech-tag shimmer">Responsive Design</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    .experience {
        position: relative;
        padding: 6rem 0;
        overflow: hidden;
    }

    .experience-background {
        position: absolute;
        inset: 0;
        pointer-events: none;
    }

    .experience-pattern {
        position: absolute;
        inset: 0;
        background-image:
            radial-gradient(circle at 75% 25%, rgba(100, 181, 246, 0.03) 0%, transparent 50%),
            radial-gradient(circle at 25% 75%, rgba(255, 107, 53, 0.03) 0%, transparent 50%);
    }

    .experience-particles {
        position: absolute;
        inset: 0;
    }

    .exp-particle {
        position: absolute;
        left: var(--x);
        top: var(--y);
        width: 6px;
        height: 6px;
        background: var(--primary-color);
        border-radius: 50%;
        opacity: 0.3;
        animation: expParticleFloat 8s ease-in-out infinite;
        animation-delay: var(--delay);
    }

    @keyframes expParticleFloat {
        0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.3; }
        25% { transform: translate(15px, -25px) scale(1.3); opacity: 0.6; }
        50% { transform: translate(-10px, -50px) scale(1); opacity: 0.4; }
        75% { transform: translate(20px, -25px) scale(1.2); opacity: 0.5; }
    }

    .experience-timeline {
        position: relative;
        max-width: 900px;
        margin: 0 auto;
        padding: 2rem 0;
    }

    .timeline-line {
        position: absolute;
        left: 50%;
        top: 0;
        bottom: 0;
        width: 3px;
        background: linear-gradient(to bottom, transparent 0%, rgba(100, 181, 246, 0.2) 10%, rgba(100, 181, 246, 0.2) 90%, transparent 100%);
        transform: translateX(-50%);
    }

    .timeline-progress {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 0%;
        background: linear-gradient(to bottom, var(--primary-color), var(--accent-color));
        border-radius: 3px;
        transition: height 1s ease;
    }

    .timeline-line.animate .timeline-progress {
        height: 100%;
    }

    .experience-item {
        position: relative;
        margin-bottom: 4rem;
        opacity: 0;
        transform: translateY(50px);
        transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .experience-item.visible {
        opacity: 1;
        transform: translateY(0);
    }

    .experience-item:nth-child(odd) {
        padding-right: calc(50% + 2rem);
        text-align: right;
    }

    .experience-item:nth-child(odd) .experience-content {
        transform-origin: right center;
    }

    .experience-item:nth-child(even) {
        padding-left: calc(50% + 2rem);
        text-align: left;
    }

    .experience-item:nth-child(even) .experience-content {
        transform-origin: left center;
    }

    .experience-marker {
        position: absolute;
        left: 50%;
        top: 1.5rem;
        transform: translateX(-50%);
        z-index: 10;
    }

    .marker-dot {
        width: 20px;
        height: 20px;
        background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
        border-radius: 50%;
        position: relative;
        box-shadow: 0 0 20px rgba(100, 181, 246, 0.5);
    }

    .marker-ring {
        position: absolute;
        inset: -8px;
        border: 2px solid var(--primary-color);
        border-radius: 50%;
        opacity: 0;
        animation: markerRingPulse 2s ease-out infinite;
    }

    .marker-ring.delay-1 {
        animation-delay: 0.5s;
    }

    .marker-ring.delay-2 {
        animation-delay: 1s;
    }

    @keyframes markerRingPulse {
        0% { transform: scale(0.8); opacity: 0.8; }
        100% { transform: scale(2); opacity: 0; }
    }

    .experience-content {
        padding: 1.5rem;
        border-radius: 1rem;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .experience-content:hover {
        transform: translateY(-5px) scale(1.02);
        box-shadow: 0 25px 50px rgba(100, 181, 246, 0.2);
    }

    .experience-header {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        margin-bottom: 1rem;
        align-items: center;
    }

    .experience-item:nth-child(odd) .experience-header {
        justify-content: flex-end;
    }

    .experience-item:nth-child(even) .experience-header {
        justify-content: flex-start;
    }

    .experience-date {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.875rem;
        color: var(--text-secondary);
    }

    .experience-date i {
        color: var(--primary-color);
    }

    .date-badge {
        padding: 0.25rem 0.5rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 600;
        background: rgba(100, 181, 246, 0.1);
        color: var(--primary-color);
    }

    .date-badge.current {
        background: linear-gradient(135deg, rgba(100, 181, 246, 0.2), rgba(255, 107, 53, 0.2));
        animation: currentPulse 2s ease-in-out infinite;
    }

    @keyframes currentPulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.7; }
    }

    .experience-company {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .company-logo {
        width: 32px;
        height: 32px;
        background: rgba(100, 181, 246, 0.1);
        border: 1px solid rgba(100, 181, 246, 0.2);
        border-radius: 0.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--primary-color);
        transition: all 0.3s ease;
    }

    .experience-content:hover .company-logo {
        transform: rotate(5deg) scale(1.1);
        background: rgba(100, 181, 246, 0.2);
    }

    .experience-company span {
        font-weight: 600;
        color: var(--primary-color);
    }

    .experience-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 0.75rem;
    }

    .experience-description {
        color: var(--text-secondary);
        line-height: 1.6;
        margin-bottom: 1rem;
    }

    .experience-achievements {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        margin-bottom: 1rem;
    }

    .achievement {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.875rem;
        color: var(--text-secondary);
    }

    .achievement i {
        color: #4ade80;
        font-size: 0.75rem;
    }

    .experience-tech {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    .experience-item:nth-child(odd) .experience-tech,
    .experience-item:nth-child(odd) .experience-achievements {
        justify-content: flex-end;
    }

    /* Glass card override for experience */
    .experience-content.glass-card {
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(100, 181, 246, 0.1);
    }

    [data-theme="dark"] .experience-content.glass-card {
        background: rgba(26, 26, 46, 0.5);
    }

    /* Animation observer styles */
    .exp-animate {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .exp-animate.visible {
        opacity: 1;
        transform: translateY(0);
    }

    /* Responsive */
    @media (max-width: 768px) {
        .experience {
            padding: 4rem 0;
        }

        .timeline-line {
            left: 1.5rem;
        }

        .experience-item:nth-child(odd),
        .experience-item:nth-child(even) {
            padding-left: calc(1.5rem + 2rem);
            padding-right: 0;
            text-align: left;
        }

        .experience-item:nth-child(odd) .experience-header,
        .experience-item:nth-child(even) .experience-header {
            justify-content: flex-start;
        }

        .experience-item:nth-child(odd) .experience-tech,
        .experience-item:nth-child(odd) .experience-achievements {
            justify-content: flex-start;
        }

        .experience-marker {
            left: 1.5rem;
        }

        .marker-dot {
            width: 16px;
            height: 16px;
        }

        .experience-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 0.5rem;
        }

        .experience-content {
            padding: 1rem;
        }

        .experience-title {
            font-size: 1.125rem;
        }

        .experience-item {
            margin-bottom: 2.5rem;
        }
    }

    @media (max-width: 480px) {
        .experience-achievements {
            flex-direction: column;
            gap: 0.5rem;
        }

        .tech-tag {
            font-size: 0.7rem;
            padding: 0.2rem 0.4rem;
        }
    }
</style>

<script>
    // Intersection Observer for scroll animations
    document.addEventListener('DOMContentLoaded', () => {
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const delay = parseInt(entry.target.getAttribute('data-anim-delay') || '0');
                    setTimeout(() => {
                        entry.target.classList.add('visible');
                    }, delay);
                }
            });
        }, observerOptions);

        // Observe all animated elements
        document.querySelectorAll('.exp-animate').forEach(el => {
            observer.observe(el);
        });

        // Timeline progress animation
        const timelineObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate');
                }
            });
        }, { threshold: 0.3 });

        const timelineLine = document.querySelector('.timeline-line');
        if (timelineLine) {
            timelineObserver.observe(timelineLine);
        }
    });
</script>
