---
// Scanline Overlay - Efecto futurista CRT/cyberpunk
---

<div class="scanline-overlay" aria-hidden="true">
    <div class="scanlines"></div>
    <div class="noise"></div>
    <div class="vignette"></div>
    <div class="flicker"></div>
</div>

<style>
    .scanline-overlay {
        position: fixed;
        inset: 0;
        pointer-events: none;
        z-index: 9997;
        overflow: hidden;
    }

    /* Scanlines effect */
    .scanlines {
        position: absolute;
        inset: 0;
        background: repeating-linear-gradient(
            0deg,
            transparent,
            transparent 2px,
            rgba(0, 0, 0, 0.03) 2px,
            rgba(0, 0, 0, 0.03) 4px
        );
        opacity: 0.5;
    }

    /* Noise texture */
    .noise {
        position: absolute;
        inset: -50%;
        width: 200%;
        height: 200%;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        opacity: 0.02;
        animation: noiseMove 0.2s steps(10) infinite;
    }

    @keyframes noiseMove {
        0% { transform: translate(0, 0); }
        10% { transform: translate(-5%, -5%); }
        20% { transform: translate(-10%, 5%); }
        30% { transform: translate(5%, -10%); }
        40% { transform: translate(-5%, 15%); }
        50% { transform: translate(-10%, 5%); }
        60% { transform: translate(15%, 0); }
        70% { transform: translate(0, 10%); }
        80% { transform: translate(-15%, 0); }
        90% { transform: translate(10%, 5%); }
        100% { transform: translate(5%, 0); }
    }

    /* Vignette effect */
    .vignette {
        position: absolute;
        inset: 0;
        background: radial-gradient(
            ellipse at center,
            transparent 0%,
            transparent 60%,
            rgba(0, 0, 0, 0.15) 100%
        );
    }

    /* Subtle flicker effect */
    .flicker {
        position: absolute;
        inset: 0;
        background: transparent;
        animation: flicker 0.15s infinite;
        opacity: 0;
    }

    @keyframes flicker {
        0%, 100% { opacity: 0; }
        50% { opacity: 0.01; background: rgba(255, 255, 255, 0.02); }
    }

    /* Horizontal scan line that moves */
    .scanline-overlay::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(
            90deg,
            transparent,
            rgba(100, 181, 246, 0.1),  /* --neural-primary */
            rgba(100, 181, 246, 0.2),
            rgba(100, 181, 246, 0.1),
            transparent
        );
        animation: scanDown 8s linear infinite;
        opacity: 0.5;
    }

    @keyframes scanDown {
        0% { top: -2px; }
        100% { top: 100%; }
    }

    /* Glitch lines that appear occasionally - using neural palette */
    .scanline-overlay::after {
        content: '';
        position: absolute;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(
            90deg,
            transparent 0%,
            rgba(255, 107, 53, 0.3) 20%,   /* --neural-spark */
            rgba(100, 181, 246, 0.3) 40%,  /* --neural-primary */
            rgba(0, 255, 255, 0.3) 60%,    /* --neural-cyan */
            rgba(170, 68, 255, 0.3) 80%,   /* --neural-purple (was spark repeated) */
            transparent 100%
        );
        animation: glitchLine 10s ease-in-out infinite;
        opacity: 0;
    }

    @keyframes glitchLine {
        0%, 95%, 100% {
            opacity: 0;
            top: 0;
        }
        96% {
            opacity: 0.8;
            top: 30%;
        }
        97% {
            opacity: 0;
            top: 30%;
        }
        98% {
            opacity: 0.6;
            top: 70%;
        }
        99% {
            opacity: 0;
            top: 70%;
        }
    }

    /* Reduce effects on mobile for performance */
    @media (max-width: 768px) {
        .noise {
            display: none;
        }

        .scanlines {
            opacity: 0.3;
        }

        .flicker {
            display: none;
        }

        .scanline-overlay::before {
            animation-duration: 12s;
        }

        .scanline-overlay::after {
            display: none;
        }
    }

    /* Respect reduced motion preference */
    @media (prefers-reduced-motion: reduce) {
        .noise,
        .flicker,
        .scanline-overlay::before,
        .scanline-overlay::after {
            animation: none;
            display: none;
        }

        .scanlines {
            opacity: 0.2;
        }
    }
</style>
